<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Nextcloudç§æœ‰ç½‘ç›˜çš„å¤‡ä»½ä¸è¿ç§» | Yinjin Yaoçš„åšå®¢</title><meta name="author" content="Yinjin Yao"><meta name="copyright" content="Yinjin Yao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="ä¸€ã€è™šæ‹Ÿæœºç¯å¢ƒæ­å»º æœ¬æ¬¡å®è·µæ˜¯é€šè¿‡Vmwareè™šæ‹Ÿæœºæ˜¯å®ç°çš„ï¼Œ  åŸºäºCentOS 7 64ä½ç³»ç»Ÿï¼Œ 1æ ¸1G 20G ç½‘ç»œæ¡¥æ¥ ä½¿ç”¨1panelé¢ç‰ˆ dockeréƒ¨ç½²çš„mysqlå’Œnextcloud  æ¥ä¸‹æ¥å¼€å§‹ åˆ›å»ºç¬¬ä¸€å°è™šæ‹Ÿæœºæ‰“å¼€VMwareè™šæ‹Ÿæœºâ€“&gt;æ–°å»ºè™šæ‹Ÿæœºâ€“&gt;å…¸å‹â€“&gt;ä¸‹ä¸€æ­¥â€“&gt;é€‰æ‹©è‡ªå·±å‡†å¤‡å¥½çš„æ˜ åƒæ–‡ä»¶ï¼ˆCentOS-7-x86_64-DVD-2009.isoï¼‰â€“">
<meta property="og:type" content="article">
<meta property="og:title" content="Nextcloudç§æœ‰ç½‘ç›˜çš„å¤‡ä»½ä¸è¿ç§»">
<meta property="og:url" content="https://cryingatnight.github.io/2025/12/10/Nextcloud%E7%A7%81%E6%9C%89%E7%BD%91%E7%9B%98%E7%9A%84%E5%A4%87%E4%BB%BD%E4%B8%8E%E8%BF%81%E7%A7%BB/index.html">
<meta property="og:site_name" content="Yinjin Yaoçš„åšå®¢">
<meta property="og:description" content="ä¸€ã€è™šæ‹Ÿæœºç¯å¢ƒæ­å»º æœ¬æ¬¡å®è·µæ˜¯é€šè¿‡Vmwareè™šæ‹Ÿæœºæ˜¯å®ç°çš„ï¼Œ  åŸºäºCentOS 7 64ä½ç³»ç»Ÿï¼Œ 1æ ¸1G 20G ç½‘ç»œæ¡¥æ¥ ä½¿ç”¨1panelé¢ç‰ˆ dockeréƒ¨ç½²çš„mysqlå’Œnextcloud  æ¥ä¸‹æ¥å¼€å§‹ åˆ›å»ºç¬¬ä¸€å°è™šæ‹Ÿæœºæ‰“å¼€VMwareè™šæ‹Ÿæœºâ€“&gt;æ–°å»ºè™šæ‹Ÿæœºâ€“&gt;å…¸å‹â€“&gt;ä¸‹ä¸€æ­¥â€“&gt;é€‰æ‹©è‡ªå·±å‡†å¤‡å¥½çš„æ˜ åƒæ–‡ä»¶ï¼ˆCentOS-7-x86_64-DVD-2009.isoï¼‰â€“">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cryingatnight.github.io/img/%E4%BA%94%E6%9D%A1%E6%82%9F.jpg">
<meta property="article:published_time" content="2025-12-09T16:00:00.000Z">
<meta property="article:modified_time" content="2025-12-10T07:05:37.359Z">
<meta property="article:author" content="Yinjin Yao">
<meta property="article:tag" content="MySQL">
<meta property="article:tag" content="docker">
<meta property="article:tag" content="nextcloud">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cryingatnight.github.io/img/%E4%BA%94%E6%9D%A1%E6%82%9F.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Nextcloudç§æœ‰ç½‘ç›˜çš„å¤‡ä»½ä¸è¿ç§»",
  "url": "https://cryingatnight.github.io/2025/12/10/Nextcloud%E7%A7%81%E6%9C%89%E7%BD%91%E7%9B%98%E7%9A%84%E5%A4%87%E4%BB%BD%E4%B8%8E%E8%BF%81%E7%A7%BB/",
  "image": "https://cryingatnight.github.io/img/%E4%BA%94%E6%9D%A1%E6%82%9F.jpg",
  "datePublished": "2025-12-09T16:00:00.000Z",
  "dateModified": "2025-12-10T07:05:37.359Z",
  "author": [
    {
      "@type": "Person",
      "name": "Yinjin Yao",
      "url": "https://cryingatnight.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/headimage.png"><link rel="canonical" href="https://cryingatnight.github.io/2025/12/10/Nextcloud%E7%A7%81%E6%9C%89%E7%BD%91%E7%9B%98%E7%9A%84%E5%A4%87%E4%BB%BD%E4%B8%8E%E8%BF%81%E7%A7%BB/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')

          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"æœªæ‰¾åˆ°ç¬¦åˆæ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}","hits_stats":"å…±æ‰¾åˆ° ${hits} ç¯‡æ–‡ç« "}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶å¤±è´¥',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'åŠ è½½æ›´å¤š'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Nextcloudç§æœ‰ç½‘ç›˜çš„å¤‡ä»½ä¸è¿ç§»',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/headimage.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">35</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">31</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">3</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-book"></i><span> æ–‡ç« </span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa-solid fa-flask"></i><span> å®éªŒå®¤</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="http://121.199.61.105/"><i class="fa-fw fas fa-q"></i><span> è±†ç“£ç½‘å¼€å‘</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://fuckornot.on.websim.com/"><i class="fa-fw fa fa-trophy"></i><span> ä¸Šä¸ä¸ŠAIè¯„åˆ†ç³»ç»Ÿ</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://fontawesome.com/icons"><i class="fa-fw fa fa-check-circle"></i><span> font-awesome v6 å›¾æ ‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/%E4%BA%94%E6%9D%A1%E6%82%9F.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/img/headimage.png" alt="Logo"><span class="site-name">Yinjin Yaoçš„åšå®¢</span></a><a class="nav-page-title" href="/"><span class="site-name">Nextcloudç§æœ‰ç½‘ç›˜çš„å¤‡ä»½ä¸è¿ç§»</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  è¿”å›é¦–é¡µ</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-book"></i><span> æ–‡ç« </span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa-solid fa-flask"></i><span> å®éªŒå®¤</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="http://121.199.61.105/"><i class="fa-fw fas fa-q"></i><span> è±†ç“£ç½‘å¼€å‘</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://fuckornot.on.websim.com/"><i class="fa-fw fa fa-trophy"></i><span> ä¸Šä¸ä¸ŠAIè¯„åˆ†ç³»ç»Ÿ</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://fontawesome.com/icons"><i class="fa-fw fa fa-check-circle"></i><span> font-awesome v6 å›¾æ ‡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Nextcloudç§æœ‰ç½‘ç›˜çš„å¤‡ä»½ä¸è¿ç§»</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2025-12-09T16:00:00.000Z" title="å‘è¡¨äº 2025-12-10 00:00:00">2025-12-10</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2025-12-10T07:05:37.359Z" title="æ›´æ–°äº 2025-12-10 15:05:37">2025-12-10</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%95%99%E7%A8%8B/">æ•™ç¨‹</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">æµè§ˆé‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="ä¸€ã€è™šæ‹Ÿæœºç¯å¢ƒæ­å»º"><a href="#ä¸€ã€è™šæ‹Ÿæœºç¯å¢ƒæ­å»º" class="headerlink" title="ä¸€ã€è™šæ‹Ÿæœºç¯å¢ƒæ­å»º"></a>ä¸€ã€è™šæ‹Ÿæœºç¯å¢ƒæ­å»º</h1><hr>
<p>æœ¬æ¬¡å®è·µæ˜¯é€šè¿‡Vmwareè™šæ‹Ÿæœºæ˜¯å®ç°çš„ï¼Œ</p>
<ul>
<li>åŸºäºCentOS 7 64ä½ç³»ç»Ÿï¼Œ</li>
<li>1æ ¸1G 20G</li>
<li>ç½‘ç»œæ¡¥æ¥</li>
<li>ä½¿ç”¨1panelé¢ç‰ˆ</li>
<li>dockeréƒ¨ç½²çš„mysqlå’Œnextcloud</li>
</ul>
<p>æ¥ä¸‹æ¥å¼€å§‹</p>
<h2 id="åˆ›å»ºç¬¬ä¸€å°è™šæ‹Ÿæœº"><a href="#åˆ›å»ºç¬¬ä¸€å°è™šæ‹Ÿæœº" class="headerlink" title="åˆ›å»ºç¬¬ä¸€å°è™šæ‹Ÿæœº"></a>åˆ›å»ºç¬¬ä¸€å°è™šæ‹Ÿæœº</h2><p>æ‰“å¼€VMwareè™šæ‹Ÿæœºâ€“&gt;æ–°å»ºè™šæ‹Ÿæœºâ€“&gt;å…¸å‹â€“&gt;ä¸‹ä¸€æ­¥â€“&gt;é€‰æ‹©è‡ªå·±å‡†å¤‡å¥½çš„æ˜ åƒæ–‡ä»¶ï¼ˆCentOS-7-x86_64-DVD-2009.isoï¼‰â€“&gt;ä¸‹ä¸€æ­¥â€“&gt;è‡ªå·±å–åå­—å’Œä½ç½®â€“&gt;ä¸‹ä¸€æ­¥â€“&gt;20G,å°†è™šæ‹Ÿç£ç›˜æ‹†åˆ†ä¸ºå¤šä¸ªæ–‡ä»¶â€“&gt;ä¸‹ä¸€æ­¥â€“&gt;<br>è‡ªå®šä¹‰ç¡¬ä»¶â€“&gt;ç½‘ç»œé€‚é…å™¨â€“&gt;æ¡¥æ¥æ¨¡å¼ï¼Œå¤åˆ¶ç‰©ç†ç½‘ç»œè¿æ¥çŠ¶æ€â€“&gt;å®Œæˆ</p>
<p>ç¼–è¾‘â€“&gt;è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨â€“&gt;æ›´æ”¹è®¾ç½®â€“&gt;æ¡¥æ¥æ¨¡å¼â€“&gt;ä»¥æ¡¥æ¥è‡³WiFiâ€“&gt;åº”ç”¨ï¼Œå®Œæˆ</p>
<p>è‡ªå·±åˆå§‹åŒ–å¼€æœº<br>ç”¨æˆ·ï¼šroot<br>å¯†ç ï¼š123456</p>
<ol>
<li><p>å…³é—­é˜²ç«å¢™</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">disable</span> firewalld</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¼–å†™ç½‘ç»œé…ç½®</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-ens33 </span><br></pre></td></tr></table></figure>
<p>ifcfg-ens33æ–‡ä»¶å†…å®¹</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">TYPE=Ethernet</span></span><br><span class="line"><span class="string">PROXY_METHOD=none</span></span><br><span class="line"><span class="string">BROWSER_ONLY=no</span></span><br><span class="line"><span class="string">BOOTPROTO=static</span>  <span class="comment"># &lt;--ipåœ°å€æ”¹ä¸ºé™æ€</span></span><br><span class="line"><span class="string">DEFROUTE=yes</span></span><br><span class="line"><span class="string">IPV4_FAILURE_FATAL=no</span></span><br><span class="line"><span class="string">IPV6INIT=yes</span></span><br><span class="line"><span class="string">IPV6_AUTOCONF=yes</span></span><br><span class="line"><span class="string">IPV6_DEFROUTE=yes</span></span><br><span class="line"><span class="string">IPV6_FAILURE_FATAL=no</span></span><br><span class="line"><span class="string">IPV6_ADDR_GEN_MODE=stable-privacy</span></span><br><span class="line"><span class="string">NAME=ens33</span></span><br><span class="line"><span class="string">UUID=c001d0a2-561f-xxxxxxxx-59853fe09d04</span></span><br><span class="line"><span class="string">DEVICE=ens33</span></span><br><span class="line"><span class="string">ONBOOT=yes</span>    <span class="comment"># &lt;--è¿™é‡Œå¿…é¡»æ”¹ä¸ºyes</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»¥ä¸‹æ˜¯è¦æ·»åŠ çš„å†…å®¹ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„å®¿ä¸»æœºç¡®å®šipåœ°å€çš„ç½‘å…³å’Œå­ç½‘æ©ç </span></span><br><span class="line"><span class="string">IPADDR=192.168.3.31</span></span><br><span class="line"><span class="string">NETMASK=255.255.255.0</span></span><br><span class="line"><span class="string">GATEWAY=192.168.3.1</span></span><br><span class="line"><span class="string">DNS1=8.8.8.8</span></span><br><span class="line">       </span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿å­˜é‡å¯ç³»ç»Ÿ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">init 6</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŸ¥çœ‹ipåœ°å€</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip a</span><br></pre></td></tr></table></figure>
<p>5545</p>
</li>
<li><p>pingä¸€ä¸‹å¤–ç½‘</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping www.baidu.com</span><br></pre></td></tr></table></figure>
<p><img src="/2025/12/10/Nextcloud%E7%A7%81%E6%9C%89%E7%BD%91%E7%9B%98%E7%9A%84%E5%A4%87%E4%BB%BD%E4%B8%8E%E8%BF%81%E7%A7%BB/file-20251130162037692.png"><br>ç½‘ç»œè¿æ¥æˆåŠŸ</p>
</li>
<li><p>æ›´æ–°æº</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> vi /etc/yum.repos.d/CentOS-Base.repo</span><br></pre></td></tr></table></figure>
<p>CentOS-Base.repo</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">base</span>]</span><br><span class="line"><span class="string">name=CentOS-$releasever</span> <span class="bullet">-</span> <span class="string">Base</span> <span class="bullet">-</span> <span class="string">Alibaba</span> <span class="string">Cloud</span></span><br><span class="line"><span class="string">baseurl=http://mirrors.aliyun.com/centos/7/os/$basearch/</span></span><br><span class="line"><span class="string">gpgcheck=1</span></span><br><span class="line"><span class="string">gpgkey=http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7</span></span><br><span class="line"><span class="string">enabled=1</span></span><br><span class="line"></span><br><span class="line">[<span class="string">updates</span>]</span><br><span class="line"><span class="string">name=CentOS-$releasever</span> <span class="bullet">-</span> <span class="string">Updates</span> <span class="bullet">-</span> <span class="string">Alibaba</span> <span class="string">Cloud</span></span><br><span class="line"><span class="string">baseurl=http://mirrors.aliyun.com/centos/7/updates/$basearch/</span></span><br><span class="line"><span class="string">gpgcheck=1</span></span><br><span class="line"><span class="string">gpgkey=http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7</span></span><br><span class="line"><span class="string">enabled=1</span></span><br><span class="line"></span><br><span class="line">[<span class="string">extras</span>]</span><br><span class="line"><span class="string">name=CentOS-$releasever</span> <span class="bullet">-</span> <span class="string">Extras</span> <span class="bullet">-</span> <span class="string">Alibaba</span> <span class="string">Cloud</span></span><br><span class="line"><span class="string">baseurl=http://mirrors.aliyun.com/centos/7/extras/$basearch/</span></span><br><span class="line"><span class="string">gpgcheck=1</span></span><br><span class="line"><span class="string">gpgkey=http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7</span></span><br><span class="line"><span class="string">enabled=1</span></span><br><span class="line"></span><br><span class="line">[<span class="string">centosplus</span>]</span><br><span class="line"><span class="string">name=CentOS-$releasever</span> <span class="bullet">-</span> <span class="string">Plus</span> <span class="bullet">-</span> <span class="string">Alibaba</span> <span class="string">Cloud</span></span><br><span class="line"><span class="string">baseurl=http://mirrors.aliyun.com/centos/7/centosplus/$basearch/</span></span><br><span class="line"><span class="string">gpgcheck=1</span></span><br><span class="line"><span class="string">gpgkey=http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7</span></span><br><span class="line"><span class="string">enabled=0</span></span><br></pre></td></tr></table></figure></li>
</ol>
<p>æ¸…ç†ç¼“å­˜ + é‡å»ºç¼“å­˜</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> yum clean all </span><br><span class="line"><span class="built_in">sudo</span> yum makecache</span><br></pre></td></tr></table></figure>

<ol start="7">
<li><p>æ›´æ–°</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> yum install update -y</span><br><span class="line"><span class="built_in">sudo</span> yum install upgrade -y</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŒ‰è£…å¯èƒ½éœ€è¦çš„æŒ‡ä»¤</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum install vim -y</span><br><span class="line">yum install screen -y</span><br><span class="line">yum install tree -y</span><br><span class="line">yum install rsync -y </span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="å®‰è£…docker"><a href="#å®‰è£…docker" class="headerlink" title="å®‰è£…docker"></a>å®‰è£…docker</h2><p>9.<a href="../linux%E5%AE%89%E8%A3%85docker.md">æŒ‰è£…docker</a></p>
<p>åœ¨ CentOS 7 ä¸Šå®‰è£… Docker çš„æ­¥éª¤å¦‚ä¸‹ã€‚ç”±äº <strong>CentOS 7 å·²äº 2024 å¹´ 6 æœˆ 30 æ—¥åœæ­¢ç»´æŠ¤ï¼ˆEOLï¼‰</strong>ï¼Œå®˜æ–¹ Docker ä¸å†æ”¯æŒç›´æ¥é€šè¿‡ <code>docker-ce</code> å®‰è£…ï¼Œä½†ä½ ä»å¯é€šè¿‡ä»¥ä¸‹æ–¹æ³•æˆåŠŸå®‰è£… <strong>Docker Engineï¼ˆç¤¾åŒºç‰ˆï¼‰</strong> æˆ–ä½¿ç”¨æ›¿ä»£æ–¹æ¡ˆã€‚</p>
<blockquote>
<p>ğŸ’¡ å‰æï¼šå·²é…ç½®å¥½ç½‘ç»œï¼ˆèƒ½è®¿é—®å¤–ç½‘ï¼‰ï¼Œå¹¶æ›´æ¢äº† yum æºï¼ˆå¦‚é˜¿é‡Œäº‘æºï¼‰</p>
</blockquote>
<hr>
<h3 id="ç¬¬ä¸€æ­¥ï¼šå¸è½½æ—§ç‰ˆæœ¬ï¼ˆå¦‚æœ‰ï¼‰"><a href="#ç¬¬ä¸€æ­¥ï¼šå¸è½½æ—§ç‰ˆæœ¬ï¼ˆå¦‚æœ‰ï¼‰" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šå¸è½½æ—§ç‰ˆæœ¬ï¼ˆå¦‚æœ‰ï¼‰"></a>ç¬¬ä¸€æ­¥ï¼šå¸è½½æ—§ç‰ˆæœ¬ï¼ˆå¦‚æœ‰ï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> yum remove docker \</span><br><span class="line">                  docker-client \</span><br><span class="line">                  docker-client-latest \</span><br><span class="line">                  docker-common \</span><br><span class="line">                  docker-latest \</span><br><span class="line">                  docker-latest-logrotate \</span><br><span class="line">                  docker-logrotate \</span><br><span class="line">                  docker-engine</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="ç¬¬äºŒæ­¥ï¼šå®‰è£…å¿…è¦ä¾èµ–"><a href="#ç¬¬äºŒæ­¥ï¼šå®‰è£…å¿…è¦ä¾èµ–" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šå®‰è£…å¿…è¦ä¾èµ–"></a>ç¬¬äºŒæ­¥ï¼šå®‰è£…å¿…è¦ä¾èµ–</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> yum install -y yum-utils device-mapper-persistent-data lvm2</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="ç¬¬ä¸‰æ­¥ï¼šæ·»åŠ -Docker-å®˜æ–¹ä»“åº“ï¼ˆä½¿ç”¨é˜¿é‡Œäº‘é•œåƒä»£ç†ï¼‰"><a href="#ç¬¬ä¸‰æ­¥ï¼šæ·»åŠ -Docker-å®˜æ–¹ä»“åº“ï¼ˆä½¿ç”¨é˜¿é‡Œäº‘é•œåƒä»£ç†ï¼‰" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šæ·»åŠ  Docker å®˜æ–¹ä»“åº“ï¼ˆä½¿ç”¨é˜¿é‡Œäº‘é•œåƒä»£ç†ï¼‰"></a>ç¬¬ä¸‰æ­¥ï¼šæ·»åŠ  Docker å®˜æ–¹ä»“åº“ï¼ˆä½¿ç”¨é˜¿é‡Œäº‘é•œåƒä»£ç†ï¼‰</h3><blockquote>
<p>âš ï¸ å®˜æ–¹ <code>download.docker.com</code> åœ¨ CentOS 7 ä¸Šå¯èƒ½æ— æ³•è§£ææˆ–ä¸‹è½½å¤±è´¥ï¼Œå»ºè®®ä½¿ç”¨ <strong>é˜¿é‡Œäº‘ Docker CE é•œåƒ</strong></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> yum-config-manager \</span><br><span class="line">    --add-repo \</span><br><span class="line">    https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿™ä¸ªåœ°å€æ˜¯é˜¿é‡Œäº‘å¯¹ Docker å®˜æ–¹ä»“åº“çš„é•œåƒï¼Œé€Ÿåº¦æ›´å¿«ä¸”å…¼å®¹ CentOS 7ã€‚</p>
</blockquote>
<hr>
<h3 id="ç¬¬å››æ­¥ï¼šå®‰è£…-Docker-Engine"><a href="#ç¬¬å››æ­¥ï¼šå®‰è£…-Docker-Engine" class="headerlink" title="ç¬¬å››æ­¥ï¼šå®‰è£… Docker Engine"></a>ç¬¬å››æ­¥ï¼šå®‰è£… Docker Engine</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> yum install -y docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¦‚æœæç¤ºæ‰¾ä¸åˆ°åŒ…ï¼Œå¯å…ˆåˆ—å‡ºå¯ç”¨ç‰ˆæœ¬ï¼š</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum list docker-ce --showduplicates | <span class="built_in">sort</span> -r</span><br></pre></td></tr></table></figure>

<p>ç„¶åæŒ‡å®šç‰ˆæœ¬å®‰è£…ï¼ˆä¾‹å¦‚ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> yum install -y docker-ce-20.10.21 docker-ce-cli-20.10.21 containerd.io</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="ç¬¬äº”æ­¥ï¼šå¯åŠ¨å¹¶è®¾ç½®å¼€æœºè‡ªå¯"><a href="#ç¬¬äº”æ­¥ï¼šå¯åŠ¨å¹¶è®¾ç½®å¼€æœºè‡ªå¯" class="headerlink" title="ç¬¬äº”æ­¥ï¼šå¯åŠ¨å¹¶è®¾ç½®å¼€æœºè‡ªå¯"></a>ç¬¬äº”æ­¥ï¼šå¯åŠ¨å¹¶è®¾ç½®å¼€æœºè‡ªå¯</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl start docker</span><br><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> docker</span><br></pre></td></tr></table></figure>

<p>éªŒè¯æ˜¯å¦è¿è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> docker --version</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç¤ºä¾‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Docker version 20.10.21, build baeda1f</span><br></pre></td></tr></table></figure>

<h2 id="ipanelé¢æ¿"><a href="#ipanelé¢æ¿" class="headerlink" title="ipanelé¢æ¿"></a>ipanelé¢æ¿</h2><ol start="10">
<li>å®‰è£…1panelé¢æ¿<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sSL https://resource.fit2cloud.com/1panel/package/quick_start.sh -o quick_start.sh &amp;&amp; bash quick_start.sh</span><br></pre></td></tr></table></figure>
ä»¥ä¸Šæ¥ä¸‹æ¥çš„å®‰è£…æ­¥éª¤çœç•¥</li>
</ol>
<h3 id="å®‰è£…mysql"><a href="#å®‰è£…mysql" class="headerlink" title="å®‰è£…mysql"></a>å®‰è£…mysql</h3><p>å…è®¸å¤–éƒ¨è®¿é—®<br>å®¹å™¨åï¼šmysql<br>rootè´¦æˆ·å¯†ç ï¼š123456</p>
<p><img src="/2025/12/10/Nextcloud%E7%A7%81%E6%9C%89%E7%BD%91%E7%9B%98%E7%9A%84%E5%A4%87%E4%BB%BD%E4%B8%8E%E8%BF%81%E7%A7%BB/file-20251130164054918.png"></p>
<h3 id="å®‰è£…nextcloud"><a href="#å®‰è£…nextcloud" class="headerlink" title="å®‰è£…nextcloud"></a>å®‰è£…nextcloud</h3><p>å…è®¸å¤–éƒ¨è®¿é—®<br>å®¹å™¨åï¼šnextcloud</p>
<p><img src="/2025/12/10/Nextcloud%E7%A7%81%E6%9C%89%E7%BD%91%E7%9B%98%E7%9A%84%E5%A4%87%E4%BB%BD%E4%B8%8E%E8%BF%81%E7%A7%BB/file-20251130164355366.png"></p>
<h2 id="åˆ›å»ºç¬¬äºŒå°è™šæ‹Ÿæœº"><a href="#åˆ›å»ºç¬¬äºŒå°è™šæ‹Ÿæœº" class="headerlink" title="åˆ›å»ºç¬¬äºŒå°è™šæ‹Ÿæœº"></a>åˆ›å»ºç¬¬äºŒå°è™šæ‹Ÿæœº</h2><p>ä»¥å…‹éš†çš„æ–¹å¼ï¼Œå…³æœºï¼Œç»™ç°åœ¨çš„è™šæ‹Ÿæœºæ‹å¿«ç…§</p>
<p>è™šæ‹Ÿæœºâ€“&gt;ç®¡ç†â€“&gt;å…‹éš†â€“&gt;ä¸‹ä¸€é¡µâ€“&gt;å…‹éš†è‡ªè™šæ‹Ÿæœºå½“å‰çŠ¶æ€â€“&gt;åˆ›å»ºå®Œå…¨å…‹éš†ï¼Œä¸‹ä¸€é¡µâ€“&gt;å…‹éš†åå­—è‡ªå·±å–â€“&gt;å®Œæˆ</p>
<p>å¯åŠ¨ï¼Œä¿®æ”¹ipåœ°å€</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-ens33 </span><br></pre></td></tr></table></figure>
<p>æ”¹ä¸ºä¸€ä»¥ä¸‹:</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">TYPE=Ethernet</span></span><br><span class="line"><span class="string">PROXY_METHOD=none</span></span><br><span class="line"><span class="string">BROWSER_ONLY=no</span></span><br><span class="line"><span class="string">BOOTPROTO=static</span></span><br><span class="line"><span class="string">DEFROUTE=yes</span></span><br><span class="line"><span class="string">IPV4_FAILURE_FATAL=no</span></span><br><span class="line"><span class="string">IPV6INIT=yes</span></span><br><span class="line"><span class="string">IPV6_AUTOCONF=yes</span></span><br><span class="line"><span class="string">IPV6_DEFROUTE=yes</span></span><br><span class="line"><span class="string">IPV6_FAILURE_FATAL=no</span></span><br><span class="line"><span class="string">IPV6_ADDR_GEN_MODE=stable-privacy</span></span><br><span class="line"><span class="string">NAME=ens33</span></span><br><span class="line"><span class="string">UUID=dc5079e4-1f77-4d20-8e81-37ffed5dfd6f</span></span><br><span class="line"><span class="string">DEVICE=ens33</span></span><br><span class="line"><span class="string">ONBOOT=yes</span></span><br><span class="line"><span class="string">IPADDR=192.168.3.32</span>  <span class="comment"># &lt;--è¿™é‡Œä¿®æ”¹äº†</span></span><br><span class="line"><span class="string">GATEWAY=192.168.3.1</span></span><br><span class="line"><span class="string">PREFIX=24</span></span><br><span class="line"><span class="string">DNS1=8.8.8.8</span></span><br></pre></td></tr></table></figure>

<p>ä¿å­˜é‡å¯è™šæ‹Ÿæœº</p>
<p>æŸ¥çœ‹ipåœ°å€</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip a</span><br></pre></td></tr></table></figure>
<p><img src="/2025/12/10/Nextcloud%E7%A7%81%E6%9C%89%E7%BD%91%E7%9B%98%E7%9A%84%E5%A4%87%E4%BB%BD%E4%B8%8E%E8%BF%81%E7%A7%BB/file-20251130165641533.png"></p>
<h2 id="åˆ›å»ºåå­—ä¸ºNextcloudDBçš„æ•°æ®åº“"><a href="#åˆ›å»ºåå­—ä¸ºNextcloudDBçš„æ•°æ®åº“" class="headerlink" title="åˆ›å»ºåå­—ä¸ºNextcloudDBçš„æ•°æ®åº“"></a>åˆ›å»ºåå­—ä¸ºNextcloudDBçš„æ•°æ®åº“</h2><p>ä¸‹é¢çš„å¯†ç ä¸º123456</p>
<p><img src="/2025/12/10/Nextcloud%E7%A7%81%E6%9C%89%E7%BD%91%E7%9B%98%E7%9A%84%E5%A4%87%E4%BB%BD%E4%B8%8E%E8%BF%81%E7%A7%BB/file-20251130164241197.png"></p>
<h1 id="ä¸‰ã€-æ•°æ®å¤‡ä»½"><a href="#ä¸‰ã€-æ•°æ®å¤‡ä»½" class="headerlink" title="ä¸‰ã€ æ•°æ®å¤‡ä»½"></a>ä¸‰ã€ æ•°æ®å¤‡ä»½</h1><hr>
<h2 id="æŸ¥çœ‹docker-compose-yml"><a href="#æŸ¥çœ‹docker-compose-yml" class="headerlink" title="æŸ¥çœ‹docker-compose.yml"></a>æŸ¥çœ‹docker-compose.yml</h2><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">networks:</span></span><br><span class="line">    <span class="attr">1panel-network:</span></span><br><span class="line">        <span class="attr">external:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">    <span class="attr">nextcloud:</span></span><br><span class="line">        <span class="attr">container_name:</span> <span class="string">$&#123;CONTAINER_NAME&#125;</span></span><br><span class="line">        <span class="attr">deploy:</span></span><br><span class="line">            <span class="attr">resources:</span></span><br><span class="line">                <span class="attr">limits:</span></span><br><span class="line">                    <span class="attr">cpus:</span> <span class="string">$&#123;CPUS&#125;</span></span><br><span class="line">                    <span class="attr">memory:</span> <span class="string">$&#123;MEMORY_LIMIT&#125;</span></span><br><span class="line">        <span class="attr">environment:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">PUID=1000</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">PGID=1000</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">TZ=$&#123;TIME_ZONE&#125;</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">linuxserver/nextcloud:32.0.2</span></span><br><span class="line">        <span class="attr">labels:</span></span><br><span class="line">            <span class="attr">createdBy:</span> <span class="string">Apps</span></span><br><span class="line">        <span class="attr">networks:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">1panel-network</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">$&#123;HOST_IP&#125;:$&#123;PANEL_APP_PORT_HTTPS&#125;:443</span></span><br><span class="line">        <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">        <span class="attr">volumes:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">./data/config:/config</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">./data/data:/data</span></span><br><span class="line"><span class="string">è¿™æ˜¯docker-compose.ymlæ–‡ä»¶</span></span><br></pre></td></tr></table></figure>

<p>æ ¹æ® <code>docker-compose.yml</code> æ–‡ä»¶å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®š Nextcloud çš„æ•°æ®ç›®å½•å’Œé…ç½®æ–‡ä»¶çš„æŒ‚è½½è·¯å¾„ã€‚</p>
<h3 id="å…³é”®ä¿¡æ¯è§£æ"><a href="#å…³é”®ä¿¡æ¯è§£æ" class="headerlink" title="å…³é”®ä¿¡æ¯è§£æ"></a>å…³é”®ä¿¡æ¯è§£æ</h3><p>ä» <code>docker-compose.yml</code> æ–‡ä»¶ä¸­å¯ä»¥çœ‹åˆ°ä»¥ä¸‹é‡è¦ä¿¡æ¯ï¼š</p>
<ul>
<li><strong>æœåŠ¡å</strong>ï¼š<code>nextcloud</code></li>
<li><strong>ç½‘ç»œ</strong>ï¼šä½¿ç”¨å¤–éƒ¨ç½‘ç»œÂ <code>1panel-network</code></li>
<li><strong>ç¯å¢ƒå˜é‡</strong>ï¼šåŒ…æ‹¬ PUIDã€PGID å’Œæ—¶åŒºç­‰</li>
<li><strong>é•œåƒ</strong>ï¼š<code>linuxserver/nextcloud:32.0.2</code></li>
<li><strong>ç«¯å£æ˜ å°„</strong>ï¼šå°†å®¿ä¸»æœºçš„Â <code>$&#123;HOST_IP&#125;:$&#123;PANEL_APP_PORT_HTTPS&#125;</code>Â ç«¯å£æ˜ å°„åˆ°å®¹å™¨å†…çš„ 443 ç«¯å£</li>
<li><strong>å·ï¼ˆvolumesï¼‰æŒ‚è½½</strong>ï¼š<ul>
<li><code>./data/config:/config</code></li>
<li><code>./data/data:/data</code></li>
</ul>
</li>
</ul>
<h3 id="æ•°æ®ä¸é…ç½®æ–‡ä»¶ä½ç½®"><a href="#æ•°æ®ä¸é…ç½®æ–‡ä»¶ä½ç½®" class="headerlink" title="æ•°æ®ä¸é…ç½®æ–‡ä»¶ä½ç½®"></a>æ•°æ®ä¸é…ç½®æ–‡ä»¶ä½ç½®</h3><p>åŸºäºä¸Šè¿°ä¿¡æ¯ï¼Œå¯ä»¥å¾—å‡ºä»¥ä¸‹ç»“è®ºï¼š</p>
<ol>
<li><p><strong>Nextcloud ç”¨æˆ·æ–‡ä»¶å­˜å‚¨ç›®å½•</strong>ï¼ˆå³æ•°æ®ç›®å½•ï¼‰æ˜¯æŒ‚è½½åœ¨å®¿ä¸»æœºçš„ <code>./data/data</code> è·¯å¾„ä¸‹ã€‚<br> åœ¨1panelä¸­ï¼Œè¿™åº”è¯¥æ˜¯ <code>/opt/1panel/apps/nextcloud/nextcloud/data/data</code> ç›®å½•ã€‚è¿™ä¸ªç›®å½•å¯¹åº”å®¹å™¨å†…éƒ¨çš„ <code>/data</code> è·¯å¾„ã€‚</p>
</li>
<li><p><strong>Nextcloud é…ç½®æ–‡ä»¶</strong> æ˜¯æŒ‚è½½åœ¨å®¿ä¸»æœºçš„ <code>./data/config</code> è·¯å¾„ä¸‹ã€‚</p>
<p> å¯¹åº”çš„å®Œæ•´è·¯å¾„ä¸º <code>/opt/1panel/apps/nextcloud/nextcloud/data/config</code>ï¼Œè¯¥ç›®å½•å¯¹åº”å®¹å™¨å†…éƒ¨çš„ <code>/config</code> è·¯å¾„ã€‚</p>
</li>
</ol>
<h2 id="å¤‡ä»½ç­–ç•¥"><a href="#å¤‡ä»½ç­–ç•¥" class="headerlink" title="å¤‡ä»½ç­–ç•¥"></a>å¤‡ä»½ç­–ç•¥</h2><h3 id="1-å¤‡ä»½ç”¨æˆ·æ–‡ä»¶ï¼ˆæ•°æ®ç›®å½•ï¼‰"><a href="#1-å¤‡ä»½ç”¨æˆ·æ–‡ä»¶ï¼ˆæ•°æ®ç›®å½•ï¼‰" class="headerlink" title="1. å¤‡ä»½ç”¨æˆ·æ–‡ä»¶ï¼ˆæ•°æ®ç›®å½•ï¼‰"></a>1. å¤‡ä»½ç”¨æˆ·æ–‡ä»¶ï¼ˆæ•°æ®ç›®å½•ï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å‡è®¾å¤‡ä»½ç›®å½•ä¸º /backup/nextcloud </span></span><br><span class="line"><span class="built_in">mkdir</span> -p /backup/nextcloud/data </span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ rsync æˆ– tar è¿›è¡Œå¤‡ä»½ </span></span><br><span class="line">rsync -a /opt/1panel/apps/nextcloud/nextcloud/data/data/ /backup/nextcloud/data/ </span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–è€…ä½¿ç”¨ tar å‹ç¼©å¤‡ä»½ </span></span><br><span class="line">tar czvf /backup/nextcloud_data_$(<span class="built_in">date</span> +%F).tar.gz -C /opt/1panel/apps/nextcloud/nextcloud/data data</span><br></pre></td></tr></table></figure>


<h3 id="2-å¤‡ä»½æ•°æ®åº“"><a href="#2-å¤‡ä»½æ•°æ®åº“" class="headerlink" title="2. å¤‡ä»½æ•°æ®åº“"></a>2. å¤‡ä»½æ•°æ®åº“</h3><p>é¦–å…ˆéœ€è¦ç¡®è®¤ MySQL&#x2F;MariaDB å®¹å™¨åç§°ã€‚å‡è®¾å®¹å™¨åä¸º <code>mysql-container</code>ï¼ˆè¯·æ›¿æ¢ä¸ºå®é™…çš„å®¹å™¨åï¼‰ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è¿›è¡Œæ•°æ®åº“å¤‡ä»½ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‰¾åˆ° MySQL å®¹å™¨å </span></span><br><span class="line">docker ps --format <span class="string">&quot;table &#123;&#123;.Names&#125;&#125;\t&#123;&#123;.Image&#125;&#125;&quot;</span> | grep -E <span class="string">&quot;(mysql|mariadb)&quot;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡è®¾ MySQL å®¹å™¨åä¸º mysql-container </span></span><br><span class="line">docker <span class="built_in">exec</span> -i mysql-container sh -c <span class="string">&#x27;exec mysqldump -u root -p&quot;your_mysql_password&quot; nextcloud&#x27;</span> &gt; /backup/nextcloud_db_$(<span class="built_in">date</span> +%F).sql </span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœå¯†ç åŒ…å«ç‰¹æ®Šå­—ç¬¦æˆ–ä¸ºäº†å®‰å…¨è€ƒè™‘ï¼Œæ¨èä½¿ç”¨ .my.cnf æ–‡ä»¶æ¥é¿å…æ˜æ–‡å¯†ç </span></span><br></pre></td></tr></table></figure>


<h3 id="3-å¤‡ä»½-Nextcloud-é…ç½®æ–‡ä»¶"><a href="#3-å¤‡ä»½-Nextcloud-é…ç½®æ–‡ä»¶" class="headerlink" title="3. å¤‡ä»½ Nextcloud é…ç½®æ–‡ä»¶"></a>3. å¤‡ä»½ Nextcloud é…ç½®æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> -r /opt/1panel/apps/nextcloud/nextcloud/data/config /backup/nextcloud/</span><br></pre></td></tr></table></figure>


<h1 id="å››ã€æ•°æ®è¿ç§»"><a href="#å››ã€æ•°æ®è¿ç§»" class="headerlink" title="å››ã€æ•°æ®è¿ç§»"></a>å››ã€æ•°æ®è¿ç§»</h1><hr>
<p>æ•°æ®æ¢å¤è¿‡ç¨‹</p>
<p>åœ¨ä¸Šé¢çš„ç¯å¢ƒä¸­ï¼ˆ1Panel + Docker + <code>linuxserver/nextcloud</code> é•œåƒï¼‰ï¼Œ<strong>æ¢å¤ Nextcloud æ•°æ®</strong>éœ€è¦æŒ‰é¡ºåºæ¢å¤ <strong>æ•°æ®åº“</strong> å’Œ <strong>æ–‡ä»¶æ•°æ®ï¼ˆåŒ…æ‹¬é…ç½®ï¼‰</strong>ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´ã€å®‰å…¨ã€å¯æ“ä½œçš„æ¢å¤æµç¨‹ã€‚</p>
<h2 id="ğŸ”-æ¢å¤å‰æ"><a href="#ğŸ”-æ¢å¤å‰æ" class="headerlink" title="ğŸ” æ¢å¤å‰æ"></a>ğŸ” æ¢å¤å‰æ</h2><ul>
<li>ä½ æœ‰ä»¥ä¸‹å¤‡ä»½å†…å®¹ï¼š<ul>
<li>æ•°æ®åº“ SQL æ–‡ä»¶ï¼ˆå¦‚Â <code>db_20251129.sql</code>ï¼‰</li>
<li>ç”¨æˆ·æ–‡ä»¶ç›®å½•ï¼ˆå¦‚Â <code>/backup/nextcloud/data/</code>ï¼‰</li>
<li>é…ç½®ç›®å½•ï¼ˆå¦‚Â <code>/backup/nextcloud/config/</code>ï¼‰</li>
</ul>
</li>
<li>Nextcloud å®¹å™¨å’Œ MySQL å®¹å™¨<strong>å·²åœæ­¢æˆ–å¤„äºç»´æŠ¤çŠ¶æ€</strong></li>
<li>ä½ çŸ¥é“æ•°æ®åº“å¯†ç ï¼ˆç”¨äºæ¢å¤ï¼‰</li>
</ul>
<h2 id="ğŸš§-ç¬¬ä¸€æ­¥ï¼šåœæ­¢-Nextcloud-å®¹å™¨ï¼ˆé¿å…å†™å…¥å†²çªï¼‰"><a href="#ğŸš§-ç¬¬ä¸€æ­¥ï¼šåœæ­¢-Nextcloud-å®¹å™¨ï¼ˆé¿å…å†™å…¥å†²çªï¼‰" class="headerlink" title="ğŸš§ ç¬¬ä¸€æ­¥ï¼šåœæ­¢ Nextcloud å®¹å™¨ï¼ˆé¿å…å†™å…¥å†²çªï¼‰"></a>ğŸš§ ç¬¬ä¸€æ­¥ï¼šåœæ­¢ Nextcloud å®¹å™¨ï¼ˆé¿å…å†™å…¥å†²çªï¼‰</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥ Nextcloud åº”ç”¨ç›®å½• </span></span><br><span class="line"><span class="built_in">cd</span> /opt/1panel/apps/nextcloud/nextcloud </span><br><span class="line"></span><br><span class="line"><span class="comment"># åœæ­¢å®¹å™¨ï¼ˆä½¿ç”¨ docker-composeï¼‰ </span></span><br><span class="line">docker-compose down</span><br></pre></td></tr></table></figure>

<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šä¸è¦åˆ é™¤å®¹å™¨ï¼Œåªåœæ­¢å³å¯ã€‚<code>docker-compose down</code> ä¼šåœæ‰å®¹å™¨ä½†ä¿ç•™å·ï¼ˆvolumesï¼‰ã€‚</p>
</blockquote>
<h2 id="ğŸ—ƒï¸-ç¬¬äºŒæ­¥ï¼šæ¢å¤æ•°æ®åº“"><a href="#ğŸ—ƒï¸-ç¬¬äºŒæ­¥ï¼šæ¢å¤æ•°æ®åº“" class="headerlink" title="ğŸ—ƒï¸ ç¬¬äºŒæ­¥ï¼šæ¢å¤æ•°æ®åº“"></a>ğŸ—ƒï¸ ç¬¬äºŒæ­¥ï¼šæ¢å¤æ•°æ®åº“</h2><h3 id="1-ç¡®è®¤-MySQL-å®¹å™¨æ˜¯å¦è¿è¡Œ"><a href="#1-ç¡®è®¤-MySQL-å®¹å™¨æ˜¯å¦è¿è¡Œ" class="headerlink" title="1. ç¡®è®¤ MySQL å®¹å™¨æ˜¯å¦è¿è¡Œ"></a>1. ç¡®è®¤ MySQL å®¹å™¨æ˜¯å¦è¿è¡Œ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps | grep mysql</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ²¡è¿è¡Œï¼Œå…ˆå¯åŠ¨å®ƒï¼ˆå› ä¸ºè¦å¯¼å…¥æ•°æ®ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¦‚æœ MySQL æ˜¯ç‹¬ç«‹éƒ¨ç½²çš„ï¼ˆé nextcloud compose ç®¡ç†ï¼‰ </span></span><br><span class="line">docker start your-mysql-container-name </span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœ MySQL ä¹Ÿåœ¨ nextcloud çš„ compose ä¸­ï¼ˆä¸å¤ªå¯èƒ½ï¼‰ï¼Œåˆ™ï¼š </span></span><br><span class="line"><span class="comment"># docker-compose up -d mysql</span></span><br></pre></td></tr></table></figure>

<h3 id="2-å¯¼å…¥å¤‡ä»½çš„-SQL-æ–‡ä»¶"><a href="#2-å¯¼å…¥å¤‡ä»½çš„-SQL-æ–‡ä»¶" class="headerlink" title="2. å¯¼å…¥å¤‡ä»½çš„ SQL æ–‡ä»¶"></a>2. å¯¼å…¥å¤‡ä»½çš„ SQL æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å‡è®¾ä½ çš„å¤‡ä»½æ–‡ä»¶æ˜¯ /backup/nextcloud/db_20251129.sql </span></span><br><span class="line"><span class="comment"># å‡è®¾ MySQL å®¹å™¨åä¸º nextcloud-mysql-1ï¼ˆè¯·æ ¹æ®å®é™…è°ƒæ•´ï¼‰ </span></span><br><span class="line"></span><br><span class="line">docker <span class="built_in">exec</span> -i nextcloud-mysql-1 mysql -u root -p<span class="string">&quot;ä½ çš„MySQLå¯†ç &quot;</span> nextcloud &lt; /backup/nextcloud/db_20251129.sql</span><br></pre></td></tr></table></figure>

<blockquote>
<p>âœ… æˆåŠŸå¯¼å…¥åï¼Œæ•°æ®åº“å°±æ¢å¤åˆ°å¤‡ä»½æ—¶çš„çŠ¶æ€äº†ã€‚</p>
</blockquote>
<h2 id="ğŸ“-ç¬¬ä¸‰æ­¥ï¼šæ¢å¤ç”¨æˆ·æ–‡ä»¶å’Œé…ç½®"><a href="#ğŸ“-ç¬¬ä¸‰æ­¥ï¼šæ¢å¤ç”¨æˆ·æ–‡ä»¶å’Œé…ç½®" class="headerlink" title="ğŸ“ ç¬¬ä¸‰æ­¥ï¼šæ¢å¤ç”¨æˆ·æ–‡ä»¶å’Œé…ç½®"></a>ğŸ“ ç¬¬ä¸‰æ­¥ï¼šæ¢å¤ç”¨æˆ·æ–‡ä»¶å’Œé…ç½®</h2><h3 id="1-æ¸…ç©ºå½“å‰æ•°æ®ï¼ˆå¯é€‰ï¼Œä½†æ¨èï¼‰"><a href="#1-æ¸…ç©ºå½“å‰æ•°æ®ï¼ˆå¯é€‰ï¼Œä½†æ¨èï¼‰" class="headerlink" title="1. æ¸…ç©ºå½“å‰æ•°æ®ï¼ˆå¯é€‰ï¼Œä½†æ¨èï¼‰"></a>1. æ¸…ç©ºå½“å‰æ•°æ®ï¼ˆå¯é€‰ï¼Œä½†æ¨èï¼‰</h3><p>å¦‚æœä½ è¦<strong>å®Œå…¨è¦†ç›–</strong>ç°æœ‰æ•°æ®ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ é™¤ç°æœ‰ data å’Œ configï¼ˆè°¨æ…ï¼ç¡®ä¿å·²å¤‡ä»½å½“å‰æ•°æ®ï¼‰ </span></span><br><span class="line"><span class="built_in">rm</span> -rf /opt/1panel/apps/nextcloud/nextcloud/data/data/* </span><br><span class="line"><span class="built_in">rm</span> -rf /opt/1panel/apps/nextcloud/nextcloud/data/config/*</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ğŸ’¡ å¦‚æœåªæ˜¯éƒ¨åˆ†æ¢å¤æˆ–æµ‹è¯•ï¼Œå¯ä»¥è·³è¿‡æ¸…ç©ºï¼Œç›´æ¥è¦†ç›–ã€‚</p>
</blockquote>
<h3 id="2-æ¢å¤ç”¨æˆ·æ–‡ä»¶ï¼ˆdataï¼‰"><a href="#2-æ¢å¤ç”¨æˆ·æ–‡ä»¶ï¼ˆdataï¼‰" class="headerlink" title="2. æ¢å¤ç”¨æˆ·æ–‡ä»¶ï¼ˆdataï¼‰"></a>2. æ¢å¤ç”¨æˆ·æ–‡ä»¶ï¼ˆdataï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsync -a /backup/nextcloud/data/ /opt/1panel/apps/nextcloud/nextcloud/data/data/</span><br></pre></td></tr></table></figure>

<h3 id="3-æ¢å¤é…ç½®ï¼ˆconfigï¼‰"><a href="#3-æ¢å¤é…ç½®ï¼ˆconfigï¼‰" class="headerlink" title="3. æ¢å¤é…ç½®ï¼ˆconfigï¼‰"></a>3. æ¢å¤é…ç½®ï¼ˆconfigï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsync -a /backup/nextcloud/config/ /opt/1panel/apps/nextcloud/nextcloud/data/config/</span><br></pre></td></tr></table></figure>

<h3 id="4-ä¿®å¤æƒé™ã€å¾ˆé‡è¦ã€‘"><a href="#4-ä¿®å¤æƒé™ã€å¾ˆé‡è¦ã€‘" class="headerlink" title="4. ä¿®å¤æƒé™ã€å¾ˆé‡è¦ã€‘"></a>4. ä¿®å¤æƒé™ã€å¾ˆé‡è¦ã€‘</h3><p><code>linuxserver/nextcloud</code> é•œåƒä½¿ç”¨ PUID&#x2F;PGID æ§åˆ¶æƒé™ï¼Œé»˜è®¤æ˜¯ <code>1000:1000</code>ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chown</span> -R 1000:1000 /opt/1panel/apps/nextcloud/nextcloud/data/</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¦åˆ™ Nextcloud å¯èƒ½å› æƒé™é—®é¢˜æ— æ³•å†™å…¥æ–‡ä»¶ã€‚</p>
</blockquote>
<h2 id="â–¶ï¸-ç¬¬å››æ­¥ï¼šå¯åŠ¨-Nextcloud"><a href="#â–¶ï¸-ç¬¬å››æ­¥ï¼šå¯åŠ¨-Nextcloud" class="headerlink" title="â–¶ï¸ ç¬¬å››æ­¥ï¼šå¯åŠ¨ Nextcloud"></a>â–¶ï¸ ç¬¬å››æ­¥ï¼šå¯åŠ¨ Nextcloud</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /opt/1panel/apps/nextcloud/nextcloud </span><br><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure>
<p>ç­‰å¾…å®¹å™¨å¯åŠ¨å®Œæˆï¼ˆå¯é€šè¿‡ <code>docker logs nextcloud</code> æŸ¥çœ‹æ—¥å¿—ï¼‰ã€‚</p>
<h2 id="ğŸ”§-ç¬¬äº”æ­¥ï¼šæ‰§è¡Œä¿®å¤å’Œæ¸…ç†ï¼ˆå¼ºçƒˆå»ºè®®ï¼‰"><a href="#ğŸ”§-ç¬¬äº”æ­¥ï¼šæ‰§è¡Œä¿®å¤å’Œæ¸…ç†ï¼ˆå¼ºçƒˆå»ºè®®ï¼‰" class="headerlink" title="ğŸ”§ ç¬¬äº”æ­¥ï¼šæ‰§è¡Œä¿®å¤å’Œæ¸…ç†ï¼ˆå¼ºçƒˆå»ºè®®ï¼‰"></a>ğŸ”§ ç¬¬äº”æ­¥ï¼šæ‰§è¡Œä¿®å¤å’Œæ¸…ç†ï¼ˆå¼ºçƒˆå»ºè®®ï¼‰</h2><p>è¿›å…¥ Nextcloud å®¹å™¨ï¼Œè¿è¡Œä¿®å¤å‘½ä»¤ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥å®¹å™¨ï¼ˆå®¹å™¨åé€šå¸¸ä¸º nextcloudï¼Œç”± docker-compose.yml ä¸­å®šä¹‰ï¼‰ </span></span><br><span class="line">docker <span class="built_in">exec</span> -u abc -it nextcloud php /config/www/nextcloud/occ maintenance:repair</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ğŸ’¡ æ³¨æ„ï¼š<code>linuxserver/nextcloud</code> é•œåƒä¸­ï¼ŒWeb æ ¹ç›®å½•æ˜¯ <code>/config/www/nextcloud/</code>ï¼Œä¸”é»˜è®¤ç”¨æˆ·æ˜¯ <code>abc</code>ï¼ˆä¸æ˜¯ www-dataï¼‰ã€‚</p>
</blockquote>
<p>ä½ ä¹Ÿå¯ä»¥å¼€å¯&#x2F;å…³é—­ç»´æŠ¤æ¨¡å¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¼€å¯ç»´æŠ¤æ¨¡å¼ </span></span><br><span class="line">docker <span class="built_in">exec</span> -u abc -it nextcloud php /config/www/nextcloud/occ maintenance:mode --on </span><br><span class="line"><span class="comment"># å…³é—­ </span></span><br><span class="line">docker <span class="built_in">exec</span> -u abc -it nextcloud php /config/www/nextcloud/occ maintenance:mode --off</span><br></pre></td></tr></table></figure>
<h1 id="äº”ã€è„šæœ¬å®šæ—¶å¤‡ä»½å’Œè¿ç§»"><a href="#äº”ã€è„šæœ¬å®šæ—¶å¤‡ä»½å’Œè¿ç§»" class="headerlink" title="äº”ã€è„šæœ¬å®šæ—¶å¤‡ä»½å’Œè¿ç§»"></a>äº”ã€è„šæœ¬å®šæ—¶å¤‡ä»½å’Œè¿ç§»</h1><hr>
<h2 id="è‡ªåŠ¨åŒ–å¤‡ä»½è„šæœ¬"><a href="#è‡ªåŠ¨åŒ–å¤‡ä»½è„šæœ¬" class="headerlink" title="è‡ªåŠ¨åŒ–å¤‡ä»½è„šæœ¬"></a>è‡ªåŠ¨åŒ–å¤‡ä»½è„šæœ¬</h2><p>ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªç®€å•çš„å¤‡ä»½è„šæœ¬å¹¶è®¾ç½®å®šæ—¶ä»»åŠ¡æ¥è‡ªåŠ¨åŒ–æ•´ä¸ªè¿‡ç¨‹ï¼š</p>
<h3 id="nextclouå¤‡ä»½è„šæœ¬"><a href="#nextclouå¤‡ä»½è„šæœ¬" class="headerlink" title="nextclouå¤‡ä»½è„šæœ¬"></a>nextclouå¤‡ä»½è„šæœ¬</h3><p>backup-script.sh</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash </span></span><br><span class="line"><span class="built_in">set</span> -e </span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½® </span></span><br><span class="line">NEXTCLOUD_DIR=<span class="string">&quot;/opt/1panel/apps/nextcloud/nextcloud&quot;</span> </span><br><span class="line">MYSQL_CONTAINER=<span class="string">&quot;nextcloud-mysql-1&quot;</span> </span><br><span class="line">MYSQL_PASS=<span class="string">&quot;your_password&quot;</span> </span><br><span class="line">BACKUP_ROOT=<span class="string">&quot;<span class="variable">$HOME</span>/backup/full&quot;</span> </span><br><span class="line">DATE=$(<span class="built_in">date</span> +%Y-%m-%d) </span><br><span class="line"></span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="string">&quot;<span class="variable">$BACKUP_ROOT</span>&quot;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. å¼€å¯ç»´æŠ¤æ¨¡å¼ </span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ğŸ”§ å¼€å¯ Nextcloud ç»´æŠ¤æ¨¡å¼...&quot;</span> </span><br><span class="line">docker <span class="built_in">exec</span> -u abc nextcloud php /app/www/occ maintenance:mode --on </span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. å¤‡ä»½æ•°æ®åº“ï¼ˆä½¿ç”¨ --single-transactionï¼‰ </span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ğŸ—ƒï¸ å¤‡ä»½æ•°æ®åº“...&quot;</span> </span><br><span class="line">docker <span class="built_in">exec</span> -i <span class="string">&quot;<span class="variable">$MYSQL_CONTAINER</span>&quot;</span> \ sh -c <span class="string">&quot;exec mysqldump -u root -p&#x27;<span class="variable">$MYSQL_PASS</span>&#x27; --single-transaction --routines --triggers nextcloud&quot;</span> \ | gzip &gt; <span class="string">&quot;<span class="variable">$BACKUP_ROOT</span>/db_<span class="variable">$DATE</span>.sql.gz&quot;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. å¤‡ä»½æ–‡ä»¶ </span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ğŸ“ å¤‡ä»½ Nextcloud data å’Œ config...&quot;</span> tar -czf <span class="string">&quot;<span class="variable">$BACKUP_ROOT</span>/nextcloud_<span class="variable">$DATE</span>.tar.gz&quot;</span> -C <span class="string">&quot;<span class="variable">$NEXTCLOUD_DIR</span>/data&quot;</span> data config </span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. å…³é—­ç»´æŠ¤æ¨¡å¼ </span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;âœ… å…³é—­ç»´æŠ¤æ¨¡å¼...&quot;</span> </span><br><span class="line">docker <span class="built_in">exec</span> -u abc nextcloud php /app/www/occ maintenance:mode --off </span><br><span class="line"></span><br><span class="line"><span class="comment"># 5. æ¸…ç†æ—§å¤‡ä»½ ï¼Œæ¸…é™¤å‰3å¤©çš„å¤‡ä»½</span></span><br><span class="line">find <span class="string">&quot;<span class="variable">$BACKUP_ROOT</span>&quot;</span> -name <span class="string">&quot;*.gz&quot;</span> -mtime +3 -delete <span class="built_in">echo</span> <span class="string">&quot;ğŸ‰ å¤‡ä»½å®Œæˆï¼&quot;</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åå°†å…¶æ·»åŠ åˆ° cron å®šæ—¶ä»»åŠ¡ä¸­ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> +x /path/to/backup-script.sh </span><br><span class="line">crontab -e </span><br><span class="line"><span class="comment"># æ·»åŠ ä»¥ä¸‹è¡Œï¼ˆæ¯å¤©å‡Œæ™¨2ç‚¹æ‰§è¡Œå¤‡ä»½ï¼‰ </span></span><br><span class="line">0 2 * * * /path/to/backup-script.sh</span><br></pre></td></tr></table></figure>

<h3 id="mysqlå¤‡ä»½è„šæœ¬"><a href="#mysqlå¤‡ä»½è„šæœ¬" class="headerlink" title="mysqlå¤‡ä»½è„šæœ¬"></a>mysqlå¤‡ä»½è„šæœ¬</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash </span></span><br><span class="line"><span class="comment"># Backup MySQL database only </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> -e </span><br><span class="line"><span class="comment"># === é…ç½®åŒº === </span></span><br><span class="line">MYSQL_CONTAINER=<span class="string">&quot;nextcloud-mysql-1&quot;</span> <span class="comment"># æ›¿æ¢ä¸ºä½ çš„ MySQL å®¹å™¨å </span></span><br><span class="line">MYSQL_ROOT_PASSWORD=<span class="string">&quot;your_mysql_password&quot;</span> <span class="comment"># æ›¿æ¢ä¸ºä½ çš„ MySQL å¯†ç  </span></span><br><span class="line">DB_NAME=<span class="string">&quot;nextcloud&quot;</span> </span><br><span class="line"></span><br><span class="line">BACKUP_ROOT=<span class="string">&quot;<span class="variable">$HOME</span>/backup/mysql&quot;</span> </span><br><span class="line">DATE=$(<span class="built_in">date</span> +%Y-%m-%d) </span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="string">&quot;<span class="variable">$BACKUP_ROOT</span>&quot;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤‡ä»½æ•°æ®åº“å¹¶å‹ç¼© </span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Backing up MySQL database &#x27;<span class="variable">$DB_NAME</span>&#x27; from container &#x27;<span class="variable">$MYSQL_CONTAINER</span>&#x27;...&quot;</span> docker <span class="built_in">exec</span> -i <span class="string">&quot;<span class="variable">$MYSQL_CONTAINER</span>&quot;</span> \ sh -c <span class="string">&quot;exec mysqldump -u root -p&#x27;<span class="variable">$MYSQL_ROOT_PASSWORD</span>&#x27; --single-transaction <span class="variable">$DB_NAME</span>&quot;</span> \ | gzip &gt; <span class="string">&quot;<span class="variable">$BACKUP_ROOT</span>/nextcloud_db_<span class="variable">$DATE</span>.sql.gz&quot;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¸…ç† 3 å¤©å‰çš„å¤‡ä»½ </span></span><br><span class="line">find <span class="string">&quot;<span class="variable">$BACKUP_ROOT</span>&quot;</span> -name <span class="string">&quot;*.sql.gz&quot;</span> -mtime +3 -delete </span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;âœ… MySQL backup completed: <span class="variable">$BACKUP_ROOT</span>/nextcloud_db_<span class="variable">$DATE</span>.sql.gz&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="å®Œæ•´å¤‡ä»½ï¼ˆNextcloud-MySQLï¼‰"><a href="#å®Œæ•´å¤‡ä»½ï¼ˆNextcloud-MySQLï¼‰" class="headerlink" title="å®Œæ•´å¤‡ä»½ï¼ˆNextcloud + MySQLï¼‰"></a>å®Œæ•´å¤‡ä»½ï¼ˆNextcloud + MySQLï¼‰</h3><p>åˆ›å»ºæ–‡ä»¶ï¼š<code>~/backup_nextcloud_full.sh</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash </span></span><br><span class="line"><span class="comment"># Full backup: Nextcloud files + config + MySQL database </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> -e </span><br><span class="line"></span><br><span class="line"><span class="comment"># === é…ç½®åŒº === </span></span><br><span class="line">NEXTCLOUD_DIR=<span class="string">&quot;/opt/1panel/apps/nextcloud/nextcloud&quot;</span> </span><br><span class="line">MYSQL_CONTAINER=<span class="string">&quot;nextcloud-mysql-1&quot;</span> </span><br><span class="line">MYSQL_ROOT_PASSWORD=<span class="string">&quot;your_mysql_password&quot;</span> </span><br><span class="line">DB_NAME=<span class="string">&quot;nextcloud&quot;</span> </span><br><span class="line"></span><br><span class="line">BACKUP_ROOT=<span class="string">&quot;<span class="variable">$HOME</span>/backup/full&quot;</span> </span><br><span class="line">DATE=$(<span class="built_in">date</span> +%Y-%m-%d) </span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="string">&quot;<span class="variable">$BACKUP_ROOT</span>&quot;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å¯ç»´æŠ¤æ¨¡å¼</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ğŸ”§ å¼€å¯ Nextcloud ç»´æŠ¤æ¨¡å¼...&quot;</span></span><br><span class="line">docker <span class="built_in">exec</span> -u abc nextcloud php /app/www/public/occ maintenance:mode --on</span><br><span class="line"></span><br><span class="line"><span class="comment"># ---- 1. å¤‡ä»½æ•°æ®åº“ ---- </span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Backing up MySQL database...&quot;</span> docker <span class="built_in">exec</span> -i <span class="string">&quot;<span class="variable">$MYSQL_CONTAINER</span>&quot;</span> \ sh -c <span class="string">&quot;exec mysqldump -u root -p&#x27;<span class="variable">$MYSQL_ROOT_PASSWORD</span>&#x27; --single-transaction <span class="variable">$DB_NAME</span>&quot;</span> \ | gzip &gt; <span class="string">&quot;<span class="variable">$BACKUP_ROOT</span>/nextcloud_db_<span class="variable">$DATE</span>.sql.gz&quot;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># ---- 2. å¤‡ä»½ nextcloudæ–‡ä»¶å’Œé…ç½®Nextcloud data å’Œ config ---- </span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Backing up Nextcloud data and config...&quot;</span> </span><br><span class="line">tar -czf <span class="string">&quot;<span class="variable">$BACKUP_ROOT</span>/nextcloud_full_<span class="variable">$DATE</span>.tar.gz&quot;</span> -C <span class="string">&quot;<span class="variable">$NEXTCLOUD_DIR</span>/data&quot;</span> data config </span><br><span class="line"></span><br><span class="line"><span class="comment"># å…³é—­ç»´æŠ¤æ¨¡å¼</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;âœ… å…³é—­ Nextcloud ç»´æŠ¤æ¨¡å¼...&quot;</span></span><br><span class="line">docker <span class="built_in">exec</span> -u abc nextcloud php /app/www/public/occ maintenance:mode --off</span><br><span class="line"></span><br><span class="line"><span class="comment"># ---- 3. æ¸…ç†æ—§å¤‡ä»½ ---- </span></span><br><span class="line">find <span class="string">&quot;<span class="variable">$BACKUP_ROOT</span>&quot;</span> -name <span class="string">&quot;*.gz&quot;</span> -mtime +3 -delete </span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;âœ… Full backup completed!&quot;</span> </span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ğŸ“ Data &amp; Config: <span class="variable">$BACKUP_ROOT</span>/nextcloud_full_<span class="variable">$DATE</span>.tar.gz&quot;</span> </span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ğŸ—ƒï¸ Database: <span class="variable">$BACKUP_ROOT</span>/nextcloud_db_<span class="variable">$DATE</span>.sql.gz&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="ğŸ”-è®¾ç½®è„šæœ¬æƒé™"><a href="#ğŸ”-è®¾ç½®è„šæœ¬æƒé™" class="headerlink" title="ğŸ” è®¾ç½®è„šæœ¬æƒé™"></a>ğŸ” è®¾ç½®è„šæœ¬æƒé™</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> +x ~/backup_nextcloud.sh </span><br><span class="line"><span class="built_in">chmod</span> +x ~/backup_mysql.sh </span><br><span class="line"><span class="built_in">chmod</span> +x ~/backup_nextcloud_full.sh</span><br></pre></td></tr></table></figure>


<h3 id="å®šæ—¶ä»»åŠ¡"><a href="#å®šæ—¶ä»»åŠ¡" class="headerlink" title="å®šæ—¶ä»»åŠ¡"></a>å®šæ—¶ä»»åŠ¡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crontab -e</span><br></pre></td></tr></table></figure>
<p>æ·»åŠ </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ¯å¤©å‡Œæ™¨ 2 ç‚¹å…¨é‡å¤‡ä»½ </span></span><br><span class="line">0 2 * * * /root/backup_nextcloud_full.sh &gt;&gt; /var/log/nextcloud-backup.log 2&gt;&amp;1</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åˆæœŸå»ºè®®ä¿ç•™æ—¥å¿—ï¼ˆ<code>&gt;&gt; /var/log/...</code>ï¼‰ï¼Œç¡®è®¤ç¨³å®šåå†æ”¹ä¸º <code>&gt;/dev/null 2&gt;&amp;1</code></p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="https://cryingatnight.github.io">Yinjin Yao</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://cryingatnight.github.io/2025/12/10/Nextcloud%E7%A7%81%E6%9C%89%E7%BD%91%E7%9B%98%E7%9A%84%E5%A4%87%E4%BB%BD%E4%B8%8E%E8%BF%81%E7%A7%BB/">https://cryingatnight.github.io/2025/12/10/Nextcloud%E7%A7%81%E6%9C%89%E7%BD%91%E7%9B%98%E7%9A%84%E5%A4%87%E4%BB%BD%E4%B8%8E%E8%BF%81%E7%A7%BB/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº <a href="https://cryingatnight.github.io" target="_blank">Yinjin Yaoçš„åšå®¢</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/MySQL/">MySQL</a><a class="post-meta__tags" href="/tags/docker/">docker</a><a class="post-meta__tags" href="/tags/nextcloud/">nextcloud</a></div><div class="post-share"><div class="social-share" data-image="/img/%E4%BA%94%E6%9D%A1%E6%82%9F.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/12/15/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/" title="æ·±åº¦å­¦ä¹ "><img class="cover" src="/img/lita7.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">ä¸Šä¸€ç¯‡</div><div class="info-item-2">æ·±åº¦å­¦ä¹ </div></div><div class="info-2"><div class="info-item-1">åè¯è§£é‡Šç›®æ ‡å‡½æ•°åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰æ¨¡å‹çš„ä¼˜åŠ£ç¨‹åº¦çš„åº¦é‡ï¼Œè¿™ä¸ªåº¦é‡åœ¨å¤§å¤šæ•°æƒ…å†µæ˜¯â€œå¯ä¼˜åŒ–â€çš„ï¼Œè¿™è¢«ç§°ä¹‹ä¸ºç›®æ ‡å‡½æ•°ï¼ˆobjective functionï¼‰ã€‚æˆ‘ä»¬é€šå¸¸å®šä¹‰ä¸€ä¸ªç›®æ ‡å‡½æ•°ï¼Œå¹¶å¸Œæœ›ä¼˜åŒ–å®ƒåˆ°æœ€ä½ç‚¹ã€‚ å› ä¸ºè¶Šä½è¶Šå¥½ï¼Œæ‰€ä»¥è¿™äº›å‡½æ•°æœ‰æ—¶è¢«ç§°ä¸ºæŸå¤±å‡½æ•°ï¼ˆloss functionï¼Œæˆ–cost functionï¼‰ã€‚ åœ¨ä¸€ä¸ªæ•°æ®é›†ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æœ€å°åŒ–æ€»æŸå¤±æ¥å­¦ä¹ æ¨¡å‹å‚æ•°çš„æœ€ä½³å€¼ã€‚ è¯¥æ•°æ®é›†ç”±ä¸€äº›ä¸ºè®­ç»ƒè€Œæ”¶é›†çš„æ ·æœ¬ç»„æˆï¼Œç§°ä¸ºè®­ç»ƒæ•°æ®é›†ï¼ˆtraining datasetï¼Œæˆ–ç§°ä¸ºè®­ç»ƒé›†ï¼ˆtraining setï¼‰ï¼‰ã€‚ ç„¶è€Œï¼Œåœ¨è®­ç»ƒæ•°æ®ä¸Šè¡¨ç°è‰¯å¥½çš„æ¨¡å‹ï¼Œå¹¶ä¸ä¸€å®šåœ¨â€œæ–°æ•°æ®é›†â€ä¸Šæœ‰åŒæ ·çš„æ€§èƒ½ï¼Œè¿™é‡Œçš„â€œæ–°æ•°æ®é›†â€é€šå¸¸ç§°ä¸ºæµ‹è¯•æ•°æ®é›†ï¼ˆtest datasetï¼Œæˆ–ç§°ä¸º_æµ‹è¯•é›†_ï¼ˆtest setï¼‰ï¼‰ã€‚ è®­ç»ƒæ•°æ®é›†ç”¨äºæ‹Ÿåˆæ¨¡å‹å‚æ•°ï¼Œæµ‹è¯•æ•°æ®é›†ç”¨äºè¯„ä¼°æ‹Ÿåˆçš„æ¨¡å‹ã€‚ ä¼˜åŒ–ç®—æ³•ä¸€ä¸ªæ¨¡å‹å’Œä¸€ä¸ªåˆé€‚çš„æŸå¤±å‡½æ•°ï¼Œæ¥ä¸‹æ¥å°±éœ€è¦ä¸€ç§ç®—æ³•ï¼Œå®ƒèƒ½å¤Ÿæœç´¢å‡ºæœ€ä½³å‚æ•°ï¼Œä»¥æœ€å°åŒ–æŸå¤±å‡½æ•°ã€‚å¤§å¤šæµè¡Œçš„ä¼˜åŒ–ç®—æ³•é€šå¸¸åŸºäºä¸€ç§åŸºæœ¬æ–¹æ³•â€“**_æ¢¯åº¦ä¸‹é™_ï¼ˆgradient descentï¼‰** ç›‘ç£å­¦ä¹ _ç›‘ç£å­¦ä¹ _ï¼ˆsupervise...</div></div></div></a><a class="pagination-related" href="/2025/11/20/Spring/" title="Spring"><img class="cover" src="/img/lita5.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">ä¸‹ä¸€ç¯‡</div><div class="info-item-2">Spring</div></div><div class="info-2"><div class="info-item-1">Spring 1.1 ç®€ä»‹å®˜ç½‘åœ°å€ï¼šhttps://docs.spring.io/spring-framework/reference/index.htmlgithubåœ°å€ï¼šhttps://github.com/spring-projects/spring-framework 123456789101112&lt;!--https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;&lt;dependency&gt;	&lt;groupId&gt;org.springframework&lt;/groupId&gt;	&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;	&lt;version&gt;5.2.0.RELEASE&lt;/version&gt;&lt;/dependency&gt;&lt;!--https://mvnrepository.com/artifact/org.springframework/spring-webmvc -...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/06/27/Hive/" title="Hive"><img class="cover" src="/img/lita3.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-06-27</div><div class="info-item-2">Hive</div></div><div class="info-2"><div class="info-item-1">ä»€ä¹ˆæ˜¯HIVEHive æ˜¯åŸºäº Hadoop çš„ä¸€ä¸ªæ•°æ®ä»“åº“å·¥å…·ã€‚ä»¥ä¸‹æ˜¯å…·ä½“ä»‹ç»:  åŠŸèƒ½ç‰¹ç‚¹ï¼šHive å¯ä»¥å°†ç»“æ„åŒ–çš„æ•°æ®æ–‡ä»¶æ˜ å°„ä¸ºä¸€å¼ æ•°æ®åº“è¡¨ï¼Œå¹¶æä¾›å®Œæ•´çš„ SQL æŸ¥è¯¢åŠŸèƒ½ï¼Œèƒ½å°† SQL è¯­å¥è½¬æ¢ä¸º MapReduce ä»»åŠ¡è¿›è¡Œè¿è¡Œã€‚å®ƒå…è®¸ç†Ÿæ‚‰ SQL çš„ç”¨æˆ·æ–¹ä¾¿åœ°æŸ¥è¯¢æ•°æ®ï¼Œä¹Ÿæ”¯æŒç†Ÿæ‚‰ MapReduce çš„å¼€å‘è€…è‡ªå®šä¹‰ mapper å’Œ reducerï¼Œä»¥å¤„ç†å¤æ‚çš„åˆ†æå·¥ä½œã€‚ ä¼˜åŠ¿ï¼šå­¦ä¹ æˆæœ¬ä½ï¼Œé€šè¿‡ç±» SQL è¯­å¥å¯å¿«é€Ÿå®ç°ç®€å•çš„ MapReduce ç»Ÿè®¡ï¼Œæ— éœ€å¼€å‘ä¸“é—¨çš„ MapReduce åº”ç”¨ï¼Œååˆ†é€‚åˆæ•°æ®ä»“åº“çš„ç»Ÿè®¡åˆ†æã€‚ åº”ç”¨åœºæ™¯ï¼šå¸¸ç”¨äºå¯¹æ—¶æ•ˆæ€§è¦æ±‚ä¸é«˜çš„æ•°æ®åˆ†æåœºæ™¯ã€‚ç”±äº Hive åº•å±‚ä¾èµ– Hadoop çš„ HDFS å­˜å‚¨æ•°æ®ï¼Œåˆ©ç”¨ MapReduce è¿›è¡Œè®¡ç®—ï¼Œå› æ­¤èƒ½å¤Ÿå¤„ç†å¤§è§„æ¨¡çš„æ•°æ®ï¼Œåœ¨å¤„ç†æµ·é‡ç»“æ„åŒ–æ—¥å¿—çš„æ•°æ®ç»Ÿè®¡ç­‰æ–¹é¢åº”ç”¨å¹¿æ³›ã€‚ ä¸æ•°æ®åº“çš„åŒºåˆ«ï¼š æ•°æ®åº“ä¸€èˆ¬ç”¨äºåœ¨çº¿åº”ç”¨ï¼Œæ”¯æŒå¯¹æŸä¸€è¡Œæˆ–æŸäº›è¡Œæ•°æ®çš„æ›´æ–°ã€åˆ é™¤ç­‰æ“ä½œï¼Œé‡‡ç”¨ â€œå†™æ—¶æ¨¡å¼â€ï¼Œæ•°æ®åŠ è½½æ…¢ä½†æŸ¥è¯¢å¿«ã€‚ è€Œ Hive ä¸æ”¯æŒå¯¹å…·ä½“è¡Œçš„æ“ä½œï¼Œä¹Ÿä¸æ”¯æŒäº‹åŠ¡å’Œç´¢å¼•ï¼Œé‡‡ç”¨ â€œè¯»æ—¶æ¨¡å¼â€ï¼Œé€‚åˆå¤„ç†éç»“æ„åŒ–æˆ–å­˜å‚¨æ¨¡å¼...</div></div></div></a><a class="pagination-related" href="/2025/08/10/datax/" title="datax"><img class="cover" src="/img/lita3.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-10</div><div class="info-item-2">datax</div></div><div class="info-2"><div class="info-item-1">DataXç®€ä»‹DataXæ¦‚è¿°DataX æ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„ä¸€ä¸ªå¼‚æ„æ•°æ®æºç¦»çº¿åŒæ­¥å·¥å…·ï¼Œè‡´åŠ›äºå®ç°åŒ…æ‹¬å…³ç³»å‹æ•°æ®åº“(MySQLã€Oracleç­‰)ã€HDFSã€Hiveã€ODPSã€HBaseã€FTPç­‰å„ç§å¼‚æ„æ•°æ®æºä¹‹é—´ç¨³å®šé«˜æ•ˆçš„æ•°æ®åŒæ­¥åŠŸèƒ½ã€‚ dataxæºç åœ°å€ï¼šhttps://github.com/alibaba/DataX DataXæ”¯æŒçš„æ•°æ®æºDataXç›®å‰å·²ç»æœ‰äº†æ¯”è¾ƒå…¨é¢çš„æ’ä»¶ä½“ç³»ï¼Œä¸»æµçš„RDBMSæ•°æ®åº“ã€NOSQLã€å¤§æ•°æ®è®¡ç®—ç³»ç»Ÿéƒ½å·²ç»æ¥å…¥ï¼Œç›®å‰æ”¯æŒæ•°æ®å¦‚ä¸‹å›¾ã€‚    ç±»å‹ æ•°æ®æº Reader(è¯») Writer(å†™) æ–‡æ¡£    RDBMS å…³ç³»å‹æ•°æ®åº“ MySQL âˆš âˆš è¯»Â ã€å†™    Oracle âˆš âˆš è¯»Â ã€å†™    OceanBase âˆš âˆš è¯»Â ã€å†™    SQLServer âˆš âˆš è¯»Â ã€å†™    PostgreSQL âˆš âˆš è¯»Â ã€å†™    DRDS âˆš âˆš è¯»Â ã€å†™    Kingbase âˆš âˆš è¯»Â ã€å†™    é€šç”¨RDBMS(æ”¯æŒæ‰€æœ‰å…³ç³»å‹æ•°æ®åº“) âˆš âˆš è¯»Â ã€å†™   é˜¿é‡Œäº‘æ•°ä»“æ•°æ®å­˜å‚¨ ODPS âˆš âˆš è¯»Â ã€å†™    ADB  âˆš å†™    A...</div></div></div></a><a class="pagination-related" href="/2025/08/07/docker-compose/" title="docker-compose"><img class="cover" src="/img/lita8.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-07</div><div class="info-item-2">docker-compose</div></div><div class="info-2"><div class="info-item-1">å®˜æ–¹æ–‡æ¡£æœ¬æ–‡å‚è€ƒã€Šdocker-composeæ•™ç¨‹ï¼ˆå®‰è£…ï¼Œä½¿ç”¨, å¿«é€Ÿå…¥é—¨ï¼‰ã€‹ Composeä»‹ç»Docker Composeæ˜¯ä¸€ä¸ªç”¨æ¥å®šä¹‰å’Œè¿è¡Œå¤æ‚åº”ç”¨çš„Dockerå·¥å…·ã€‚ä¸€ä¸ªä½¿ç”¨Dockerå®¹å™¨çš„åº”ç”¨ï¼Œé€šå¸¸ç”±å¤šä¸ªå®¹å™¨ç»„æˆã€‚ä½¿ç”¨Docker Composeä¸å†éœ€è¦ä½¿ç”¨shellè„šæœ¬æ¥å¯åŠ¨å®¹å™¨ã€‚Compose é€šè¿‡ä¸€ä¸ªé…ç½®æ–‡ä»¶æ¥ç®¡ç†å¤šä¸ªDockerå®¹å™¨ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œæ‰€æœ‰çš„å®¹å™¨é€šè¿‡servicesæ¥å®šä¹‰ï¼Œç„¶åä½¿ç”¨docker-composeè„šæœ¬æ¥å¯åŠ¨ï¼Œåœæ­¢å’Œé‡å¯åº”ç”¨ï¼Œå’Œåº”ç”¨ä¸­çš„æœåŠ¡ä»¥åŠæ‰€æœ‰ä¾èµ–æœåŠ¡çš„å®¹å™¨ï¼Œéå¸¸é€‚åˆç»„åˆä½¿ç”¨å¤šä¸ªå®¹å™¨è¿›è¡Œå¼€å‘çš„åœºæ™¯ã€‚ æŸ¥çœ‹æ˜¯å¦å®‰è£…12docker compose versiondocker compose  docker-composeæ–‡ä»¶ç»“æ„å’Œç¤ºä¾‹docker-composeæ–‡ä»¶ç»“æ„docker-compose.yaml: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162...</div></div></div></a><a class="pagination-related" href="/2025/07/14/docker/" title="docker"><img class="cover" src="/img/lita9.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-07-14</div><div class="info-item-2">docker</div></div><div class="info-2"><div class="info-item-1">dockerä»‹ç»åœ¨å®‰è£…éƒ¨ç½²ç¨‹åºè¿‡ç¨‹ä¸­å­˜åœ¨çš„é—®é¢˜ï¼š  ç‰ˆæœ¬ä¾èµ–  å…¸å‹æ¡ˆä¾‹ï¼šjavaç¯å¢ƒæœ‰å¾ˆå¤šçš„jreç‰ˆæœ¬   ç¯å¢ƒä¾èµ–  å…¸å‹æ¡ˆä¾‹ï¼šoracleå®‰è£…éœ€è¦å¤§é‡æ”¯æ’‘åŒ…   å®‰å…¨é£é™©  å…¸å‹æ¡ˆä¾‹ï¼šå¤šä¸ªåº”ç”¨æ— æ³•å®‰è£…ä¸€ä¸ªæœåŠ¡å™¨   æ€§èƒ½ç“¶é¢ˆ  å…¸å‹æ¡ˆä¾‹ï¼šç¡¬ä»¶è®¾å¤‡æ‰©å±•å›°éš¾    ä»€ä¹ˆæ˜¯è™šæ‹ŸåŒ–æŠ€æœ¯åœ¨è®¡ç®—æœºæŠ€æœ¯ä¸­ï¼Œè™šæ‹ŸåŒ–æ˜¯ä¸€ç§èµ„æºç®¡ç†æŠ€æœ¯ï¼Œæ˜¯å°†è®¡ç®—æœºçš„å„ç§å®ä½“èµ„æºï¼Œå¦‚æœåŠ¡å™¨ï¼Œç½‘ç»œï¼Œå†…å­˜ä»¥åŠå­˜å‚¨ç­‰äºˆä»¥æŠ½è±¡è½¬æ¢åå‘ˆç°å‡ºæ¥ï¼Œæ‰“ç ´å®ä½“å®ä½“ç»“æ„é—´ä¸å¯åˆ‡å‰²çš„éšœç¢ï¼Œä½¿ç”¨æˆ·å¯ä»¥ç”¨æ¯”åŸæœ¬çš„ç»„æ€æ›´å¥½çš„æ–¹å¼æ¥åº”ç”¨è¿™äº›èµ„æº docekrå®¹å™¨æŠ€æœ¯çš„å‘å±• Dockeræ˜¯åŸºäºGoè¯­è¨€å®ç°çš„å¼€åŸå®¹å™¨é¡¹ç›®å®ƒè¯ç”Ÿäº2013å¹´å¹´åˆ.ç°åœ¨ä¸»æµçš„æ“ä½œç³»ç»ŸåŒ…æ‹¬å¼•inuxå„å¤§å‘è¡Œç‰ˆæœ¬ï¼ŒMacOS,windowsç­‰éƒ½æ”¯æŒDocker..å„å¤§äº‘æœåŠ¡æä¾›å•†ä¹Ÿçº·çº·æ¨å‡ºäº†åŸºäºDockerçš„æœåŠ¡ Dockerçš„æ„æƒ³æ˜¯è¦å®ç°â€Build ship and run any App,Anywhereâ€˜â€œå³é€šè¿‡å¯¹åº”ç”¨çš„å°è£…(packaging),åˆ†å‘(distribution),éƒ¨ç½²(deploymen).è¿è¡Œ(runtime)ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†ï¼Œè¾¾åˆ°åº”ç”¨ç»„ä»¶çº§...</div></div></div></a><a class="pagination-related" href="/2025/08/07/docker%E5%85%A5%E9%97%A8/" title="docekrå…¥é—¨"><img class="cover" src="/img/lita5.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-07</div><div class="info-item-2">docekrå…¥é—¨</div></div><div class="info-2"><div class="info-item-1">æœ¬æ–‡å¤§éƒ¨åˆ†å‚è€ƒã€Šdocekrå…¥é—¨,è¿™ä¸€ç¯‡å°±å¤Ÿäº†ã€‹ docekrèƒŒæ™¯ä»‹ç»ä»€ä¹ˆæ˜¯docekrDockeræ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼Œè®©å¼€å‘è€…å¯ä»¥æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªå¯æŠ‘åˆ¶çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„Linuxæœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚å®¹å™¨å®Œå…¨ä½¿ç”¨æ²™ç›’æœºåˆ¶ï¼Œç›¸äº’ä¹‹é—´ä¸ä¼šå­˜åœ¨ä»»ä½•æ¥å£ã€‚å‡ ä¹æ²¡æœ‰æ€§èƒ½å¼€é”€ï¼Œå¯ä»¥å¾ˆå®¹æ˜“çš„åœ¨æœºå™¨å’Œæ•°æ®ä¸­å¿ƒè¿è¡Œã€‚æœ€é‡è¦çš„æ˜¯ï¼Œä»–ä»¬ä¸ä¾èµ–äºä»»ä½•è¯­è¨€ã€æ¡†æ¶æˆ–è€…åŒ…è£…ç³»ç»Ÿã€‚ å°çŸ¥è¯†ï¼šæ²™ç›’ä¹Ÿå«æ²™ç®±ï¼ˆsandboxï¼‰ã€‚åœ¨è®¡ç®—æœºé¢†åŸŸæŒ‡ä¸€ç§è™šæ‹ŸæŠ€æœ¯ï¼Œè€Œä¸”å¤šç”¨äºè®¡ç®—æœºå®‰å…¨æŠ€æœ¯ã€‚å®‰å…¨è½¯ä»¶å¯ä»¥è®©å®ƒåœ¨æ²™ç›’ä¸­è¿è¡Œï¼Œå¦‚æœå«æœ‰æ¶æ„è¡Œä¸ºï¼Œåˆ™ç¦æ­¢ç¨‹åºçš„è¿›ä¸€æ­¥è¿è¡Œï¼Œè€Œè¿™ä¸ä¼šå¯¹ç³»ç»Ÿé€ æˆä»»ä½•å±å®³ã€‚å®˜ç½‘ï¼šhttps://www.docker.com/ Dockerå®¹å™¨æŠ€æœ¯ä¸è™šæ‹Ÿæœºçš„åŒºåˆ«Docker å®¹å™¨æŠ€æœ¯å’Œè™šæ‹Ÿæœºï¼ˆVMï¼‰éƒ½æ˜¯å®ç°èµ„æºéš”ç¦»å’Œç¯å¢ƒä¸€è‡´æ€§çš„æŠ€æœ¯ï¼Œä½†å®ƒä»¬çš„åº•å±‚å®ç°å’Œç‰¹æ€§æœ‰æ˜¾è‘—åŒºåˆ«ï¼Œä¸»è¦ä½“ç°åœ¨æ¶æ„ã€æ€§èƒ½ã€å¯åŠ¨é€Ÿåº¦ç­‰æ–¹é¢ã€‚ä»¥ä¸‹æ˜¯ä¸¤è€…çš„æ ¸å¿ƒåŒºåˆ«ï¼š 1. æ¶æ„åŸç† è™šæ‹Ÿæœºï¼ˆVMï¼‰ï¼š  åŸºäºç¡¬ä»¶è™šæ‹ŸåŒ–ï¼Œéœ€è¦åœ¨å®¿ä¸»æœºï¼ˆHostï¼‰ä¸Šå®‰è£…Hypervisorï¼ˆå¦‚ VMwareã€KVMï¼‰ï¼Œæ¯ä¸ªè™šæ‹Ÿæœºéƒ½åŒ…å«...</div></div></div></a><a class="pagination-related" href="/2025/08/17/projectNote/%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E4%BD%BF%E7%94%A8astrbot%E6%90%AD%E5%BB%BA%E4%BD%BF%E7%94%A8deepseek%E6%A8%A1%E5%9E%8B%E7%9A%84QQ%E6%9C%BA%E5%99%A8%E4%BA%BA/" title="æ‰‹æŠŠæ‰‹æ•™ä½ ä½¿ç”¨astrbotæ­å»ºä½¿ç”¨deepseekæ¨¡å‹çš„QQæœºå™¨äºº"><img class="cover" src="/img/lita7.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-08-17</div><div class="info-item-2">æ‰‹æŠŠæ‰‹æ•™ä½ ä½¿ç”¨astrbotæ­å»ºä½¿ç”¨deepseekæ¨¡å‹çš„QQæœºå™¨äºº</div></div><div class="info-2"><div class="info-item-1">æ—§åšå®¢åœ°å€ï¼šã€Šä½¿ç”¨astrbotæ­å»ºä½¿ç”¨deepseekæ¨¡å‹çš„QQæœºå™¨äººã€‹ astrbotå®˜ç½‘ä»€ä¹ˆæ˜¯ AstrBotï¼Ÿ AstrBot æ˜¯ä¸€ä¸ªæ˜“äºä¸Šæ‰‹çš„å¤šå¹³å°èŠå¤©æœºå™¨äººåŠå¼€å‘æ¡†æ¶ã€‚é€šè¿‡å®ƒï¼Œä½ èƒ½å¤Ÿåœ¨å¤šç§æ¶ˆæ¯å¹³å°ä¸Šéƒ¨ç½²ä¸€ä¸ªæ”¯æŒå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„èŠå¤©æœºå™¨äººã€‚å¹¶ä»¥æ­¤å®ç°ä½†ä¸é™äº AI çŸ¥è¯†åº“é—®ç­”ã€è§’è‰²æ‰®æ¼”ã€ç¾¤èŠç®¡ç†ã€LLM Agent ç­‰åŠŸèƒ½ã€‚å®ƒæœ‰å¦‚ä¸‹ç‰¹æ€§  æ¾è€¦åˆï¼šAstrBot å†ç» 3 æ¬¡å¤§ä»£ç é‡æ„ã€‚æ¯ä¸€æ¬¡éƒ½åœ¨å‘ç€æ¾è€¦åˆã€æ¨¡å—åŒ–çš„æ–¹å‘è¿ˆè¿›ã€‚ç›®å‰ï¼ŒAstrBot é‡‡ç”¨äº†äº‹ä»¶æ€»çº¿å’Œæ¶ˆæ¯äº‹ä»¶æµæ°´çº¿çš„æ¶æ„è®¾è®¡ï¼Œå®ç°è¿‘ä¹å®Œå…¨çš„æ¨¡å—åŒ–ã€‚  å¼‚æ­¥ï¼šAstrBot é‡‡ç”¨äº†å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹ï¼Œä½¿å¾— AstrBot åœ¨å¤„ç†å¤šä¸ªæ¶ˆæ¯å¹³å°çš„æ¶ˆæ¯æ—¶ï¼Œèƒ½å¤Ÿæ›´åŠ é«˜æ•ˆã€‚  å¤šæ¶ˆæ¯å¹³å°éƒ¨ç½²ï¼šAstrBot é»˜è®¤æ”¯æŒæ¥å…¥ QQã€QQé¢‘é“ã€å¾®ä¿¡ã€‚é€šè¿‡æ’ä»¶ï¼Œè¿˜å¯ä»¥æ¥å…¥ Telegram ç­‰ä»»ä½•æ¶ˆæ¯å¹³å°ã€‚  å®Œå–„çš„æ’ä»¶ç³»ç»Ÿï¼šAstrBot æä¾›äº†å®Œå–„ã€åŠå…¶æ˜“äºä¸Šæ‰‹çš„æ’ä»¶ç³»ç»Ÿï¼Œä½ å¯ä»¥é€šè¿‡æ’ä»¶å®ç°è‡ªå·±çš„åŠŸèƒ½ã€‚å¼€å‘ä¸€ä¸ªæ’ä»¶ï¼Œåªéœ€è¦å‡ è¡Œä»£ç ã€‚   å®ƒæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿä¸‹é¢çš„æ‹“æ‰‘å›¾ç®€è¿°äº† AstrBot ä¸æ’ä»¶ã€æ¶ˆæ¯å¹³å°é€‚é…å™¨ã€è¯­è¨€æ¨¡å‹æ...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/headimage.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Yinjin Yao</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">35</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">31</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">3</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/cryingatnight/cryingatnight.github.io"><i class="fab fa-github"></i><span>å…³æ³¨</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/cryingatnight/cryingatnight.github.io" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:1816192779@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-text">ä¸€ã€è™šæ‹Ÿæœºç¯å¢ƒæ­å»º</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%AC%AC%E4%B8%80%E5%8F%B0%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="toc-text">åˆ›å»ºç¬¬ä¸€å°è™šæ‹Ÿæœº</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85docker"><span class="toc-text">å®‰è£…docker</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%9A%E5%8D%B8%E8%BD%BD%E6%97%A7%E7%89%88%E6%9C%AC%EF%BC%88%E5%A6%82%E6%9C%89%EF%BC%89"><span class="toc-text">ç¬¬ä¸€æ­¥ï¼šå¸è½½æ—§ç‰ˆæœ¬ï¼ˆå¦‚æœ‰ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E6%AD%A5%EF%BC%9A%E5%AE%89%E8%A3%85%E5%BF%85%E8%A6%81%E4%BE%9D%E8%B5%96"><span class="toc-text">ç¬¬äºŒæ­¥ï¼šå®‰è£…å¿…è¦ä¾èµ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%AD%A5%EF%BC%9A%E6%B7%BB%E5%8A%A0-Docker-%E5%AE%98%E6%96%B9%E4%BB%93%E5%BA%93%EF%BC%88%E4%BD%BF%E7%94%A8%E9%98%BF%E9%87%8C%E4%BA%91%E9%95%9C%E5%83%8F%E4%BB%A3%E7%90%86%EF%BC%89"><span class="toc-text">ç¬¬ä¸‰æ­¥ï¼šæ·»åŠ  Docker å®˜æ–¹ä»“åº“ï¼ˆä½¿ç”¨é˜¿é‡Œäº‘é•œåƒä»£ç†ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E6%AD%A5%EF%BC%9A%E5%AE%89%E8%A3%85-Docker-Engine"><span class="toc-text">ç¬¬å››æ­¥ï¼šå®‰è£… Docker Engine</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E6%AD%A5%EF%BC%9A%E5%90%AF%E5%8A%A8%E5%B9%B6%E8%AE%BE%E7%BD%AE%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF"><span class="toc-text">ç¬¬äº”æ­¥ï¼šå¯åŠ¨å¹¶è®¾ç½®å¼€æœºè‡ªå¯</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ipanel%E9%9D%A2%E6%9D%BF"><span class="toc-text">ipanelé¢æ¿</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85mysql"><span class="toc-text">å®‰è£…mysql</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85nextcloud"><span class="toc-text">å®‰è£…nextcloud</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%AC%AC%E4%BA%8C%E5%8F%B0%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="toc-text">åˆ›å»ºç¬¬äºŒå°è™šæ‹Ÿæœº</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%90%8D%E5%AD%97%E4%B8%BANextcloudDB%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">åˆ›å»ºåå­—ä¸ºNextcloudDBçš„æ•°æ®åº“</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81-%E6%95%B0%E6%8D%AE%E5%A4%87%E4%BB%BD"><span class="toc-text">ä¸‰ã€ æ•°æ®å¤‡ä»½</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8Bdocker-compose-yml"><span class="toc-text">æŸ¥çœ‹docker-compose.yml</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E4%BF%A1%E6%81%AF%E8%A7%A3%E6%9E%90"><span class="toc-text">å…³é”®ä¿¡æ¯è§£æ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%B8%8E%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BD%8D%E7%BD%AE"><span class="toc-text">æ•°æ®ä¸é…ç½®æ–‡ä»¶ä½ç½®</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%87%E4%BB%BD%E7%AD%96%E7%95%A5"><span class="toc-text">å¤‡ä»½ç­–ç•¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%A4%87%E4%BB%BD%E7%94%A8%E6%88%B7%E6%96%87%E4%BB%B6%EF%BC%88%E6%95%B0%E6%8D%AE%E7%9B%AE%E5%BD%95%EF%BC%89"><span class="toc-text">1. å¤‡ä»½ç”¨æˆ·æ–‡ä»¶ï¼ˆæ•°æ®ç›®å½•ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%A4%87%E4%BB%BD%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">2. å¤‡ä»½æ•°æ®åº“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%A4%87%E4%BB%BD-Nextcloud-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">3. å¤‡ä»½ Nextcloud é…ç½®æ–‡ä»¶</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%95%B0%E6%8D%AE%E8%BF%81%E7%A7%BB"><span class="toc-text">å››ã€æ•°æ®è¿ç§»</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%81-%E6%81%A2%E5%A4%8D%E5%89%8D%E6%8F%90"><span class="toc-text">ğŸ” æ¢å¤å‰æ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%9A%A7-%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%9A%E5%81%9C%E6%AD%A2-Nextcloud-%E5%AE%B9%E5%99%A8%EF%BC%88%E9%81%BF%E5%85%8D%E5%86%99%E5%85%A5%E5%86%B2%E7%AA%81%EF%BC%89"><span class="toc-text">ğŸš§ ç¬¬ä¸€æ­¥ï¼šåœæ­¢ Nextcloud å®¹å™¨ï¼ˆé¿å…å†™å…¥å†²çªï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%97%83%EF%B8%8F-%E7%AC%AC%E4%BA%8C%E6%AD%A5%EF%BC%9A%E6%81%A2%E5%A4%8D%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">ğŸ—ƒï¸ ç¬¬äºŒæ­¥ï¼šæ¢å¤æ•°æ®åº“</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%A1%AE%E8%AE%A4-MySQL-%E5%AE%B9%E5%99%A8%E6%98%AF%E5%90%A6%E8%BF%90%E8%A1%8C"><span class="toc-text">1. ç¡®è®¤ MySQL å®¹å™¨æ˜¯å¦è¿è¡Œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AF%BC%E5%85%A5%E5%A4%87%E4%BB%BD%E7%9A%84-SQL-%E6%96%87%E4%BB%B6"><span class="toc-text">2. å¯¼å…¥å¤‡ä»½çš„ SQL æ–‡ä»¶</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%81-%E7%AC%AC%E4%B8%89%E6%AD%A5%EF%BC%9A%E6%81%A2%E5%A4%8D%E7%94%A8%E6%88%B7%E6%96%87%E4%BB%B6%E5%92%8C%E9%85%8D%E7%BD%AE"><span class="toc-text">ğŸ“ ç¬¬ä¸‰æ­¥ï¼šæ¢å¤ç”¨æˆ·æ–‡ä»¶å’Œé…ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%B8%85%E7%A9%BA%E5%BD%93%E5%89%8D%E6%95%B0%E6%8D%AE%EF%BC%88%E5%8F%AF%E9%80%89%EF%BC%8C%E4%BD%86%E6%8E%A8%E8%8D%90%EF%BC%89"><span class="toc-text">1. æ¸…ç©ºå½“å‰æ•°æ®ï¼ˆå¯é€‰ï¼Œä½†æ¨èï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%81%A2%E5%A4%8D%E7%94%A8%E6%88%B7%E6%96%87%E4%BB%B6%EF%BC%88data%EF%BC%89"><span class="toc-text">2. æ¢å¤ç”¨æˆ·æ–‡ä»¶ï¼ˆdataï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%81%A2%E5%A4%8D%E9%85%8D%E7%BD%AE%EF%BC%88config%EF%BC%89"><span class="toc-text">3. æ¢å¤é…ç½®ï¼ˆconfigï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E4%BF%AE%E5%A4%8D%E6%9D%83%E9%99%90%E3%80%90%E5%BE%88%E9%87%8D%E8%A6%81%E3%80%91"><span class="toc-text">4. ä¿®å¤æƒé™ã€å¾ˆé‡è¦ã€‘</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E2%96%B6%EF%B8%8F-%E7%AC%AC%E5%9B%9B%E6%AD%A5%EF%BC%9A%E5%90%AF%E5%8A%A8-Nextcloud"><span class="toc-text">â–¶ï¸ ç¬¬å››æ­¥ï¼šå¯åŠ¨ Nextcloud</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%A7-%E7%AC%AC%E4%BA%94%E6%AD%A5%EF%BC%9A%E6%89%A7%E8%A1%8C%E4%BF%AE%E5%A4%8D%E5%92%8C%E6%B8%85%E7%90%86%EF%BC%88%E5%BC%BA%E7%83%88%E5%BB%BA%E8%AE%AE%EF%BC%89"><span class="toc-text">ğŸ”§ ç¬¬äº”æ­¥ï¼šæ‰§è¡Œä¿®å¤å’Œæ¸…ç†ï¼ˆå¼ºçƒˆå»ºè®®ï¼‰</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E8%84%9A%E6%9C%AC%E5%AE%9A%E6%97%B6%E5%A4%87%E4%BB%BD%E5%92%8C%E8%BF%81%E7%A7%BB"><span class="toc-text">äº”ã€è„šæœ¬å®šæ—¶å¤‡ä»½å’Œè¿ç§»</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E5%8C%96%E5%A4%87%E4%BB%BD%E8%84%9A%E6%9C%AC"><span class="toc-text">è‡ªåŠ¨åŒ–å¤‡ä»½è„šæœ¬</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#nextclou%E5%A4%87%E4%BB%BD%E8%84%9A%E6%9C%AC"><span class="toc-text">nextclouå¤‡ä»½è„šæœ¬</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mysql%E5%A4%87%E4%BB%BD%E8%84%9A%E6%9C%AC"><span class="toc-text">mysqlå¤‡ä»½è„šæœ¬</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%8C%E6%95%B4%E5%A4%87%E4%BB%BD%EF%BC%88Nextcloud-MySQL%EF%BC%89"><span class="toc-text">å®Œæ•´å¤‡ä»½ï¼ˆNextcloud + MySQLï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%94%90-%E8%AE%BE%E7%BD%AE%E8%84%9A%E6%9C%AC%E6%9D%83%E9%99%90"><span class="toc-text">ğŸ” è®¾ç½®è„šæœ¬æƒé™</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1"><span class="toc-text">å®šæ—¶ä»»åŠ¡</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/12/15/%E6%95%B0%E5%AD%A6/markdown%E6%95%B0%E5%AD%A6%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/" title="markdownæ•°å­¦åŸºæœ¬è¯­æ³•"><img src="/img/lita2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="markdownæ•°å­¦åŸºæœ¬è¯­æ³•"/></a><div class="content"><a class="title" href="/2025/12/15/%E6%95%B0%E5%AD%A6/markdown%E6%95%B0%E5%AD%A6%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/" title="markdownæ•°å­¦åŸºæœ¬è¯­æ³•">markdownæ•°å­¦åŸºæœ¬è¯­æ³•</a><time datetime="2025-12-15T09:43:32.478Z" title="æ›´æ–°äº 2025-12-15 17:43:32">2025-12-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/15/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/" title="æ·±åº¦å­¦ä¹ "><img src="/img/lita7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="æ·±åº¦å­¦ä¹ "/></a><div class="content"><a class="title" href="/2025/12/15/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A/" title="æ·±åº¦å­¦ä¹ ">æ·±åº¦å­¦ä¹ </a><time datetime="2025-12-15T09:41:02.321Z" title="æ›´æ–°äº 2025-12-15 17:41:02">2025-12-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/12/15/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E7%AC%A6%E5%8F%B7/" title="ç¬¦å·"><img src="/img/lita9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç¬¦å·"/></a><div class="content"><a class="title" href="/2025/12/15/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E7%AC%A6%E5%8F%B7/" title="ç¬¦å·">ç¬¦å·</a><time datetime="2025-12-15T09:40:10.636Z" title="æ›´æ–°äº 2025-12-15 17:40:10">2025-12-15</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;2025 By Yinjin Yao</span><span class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.4.2</a></span></div><div class="footer_custom_text">æ„Ÿè°¢é˜…è¯»</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æ—¥é—´å’Œå¤œé—´æ¨¡å¼åˆ‡æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (true) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="è¾“å…¥ä»¥æœç´¢å†…å®¹..." type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>